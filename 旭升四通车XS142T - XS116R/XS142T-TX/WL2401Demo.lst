
                    Nyquest Technology Co., Ltd.

NYASM 2.28 [Build 210127.00]  File=D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\main.asm Date=2022-12-01 11:48:24

    ADDR  OPCODE/VALUE              LINE   TAG  SOURCE                   STATEMENT    

                                    0-0001      ;--------------------------------------------------------------------------
                                    0-0002      #include		NY8A054E.H						; The Header File for NY8A054E
                                    1-0001      ;=======================================================================================================================
                                    1-0002      ;=======================================================================================================================
                                    1-0003      ;File:			NY8A054E.h
                                    1-0004      ;Description:	The Header File for NY8A054E
                                    1-0005      ;Author:		JasonLee
                                    1-0006      ;Date:			2020/06/02
                                    1-0007      ;=======================================================================================================================
                                    1-0008      ;=======================================================================================================================
                                    1-0009      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0010      ;MOVR and MOVAR instrutions for access R-page Register (General Purpose Register)
                                    1-0011      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0012      ;R-page sregisters				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0013      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0014      ; 00H --------- Indirect Addressing Register
                  0                 1-  15      INDF				EQU		00H
                                    1-0016      ; 01H --------- Timer0 Data Register	
                  1                 1-  17      TMR0				EQU		01H
                                    1-0018      ; 02H --------- Low Byte of Program Counter
                  2                 1-  19      PCL					EQU		02H
                                    1-0020      ; 03H --------- Status Register
                  3                 1-  21      STATUS				EQU		03H ;	BK[1]		BK[0]		-			/WDT_TO		/Sleep		Z			Half_C		C	
                                    1-0022      ; 04H --------- File Selection Register
                  4                 1-  23      FSR					EQU		04H ;	-			FSR[6]		FSR[5]		FSR[4]		FSR[3]		FSR[2]		FSR[1]		FSR[0]	         
                                    1-0024      ; 05H --------- PortA Data Register
                  5                 1-  25      PORTA				EQU		05H
                                    1-0026      ; 06H --------- PortB Data Register
                  6                 1-  27      PORTB				EQU		06H
                                    1-0028      ; 07H --------- Reserved
                                    1-0029      ; 08H --------- Power Control Register (WatchDog, LVD , LVR and comparator Control) (/PA[4]: Pull-Low) (/PA[5]: Pull-High)
                  8                 1-  30      PCON				EQU		08H ;	WDTEn		/PA4		LVDEn		/PA5		LVREn		CMPEn		-			-	
                                    1-0031      ; 09H --------- PortB Wakeup Control Register
                  9                 1-  32      BWUCON				EQU		09H ;	-			-			PB[5]		PB[4]		PB[3]		PB[2]		PB[1]		PB[0]
                                    1-0033      ; 0AH --------- High Byte of Program Counter (B'xxxxxDDD')
                  A                 1-  34      PCHBUF				EQU		0AH ;	BGEn		XSPD_STP	-			-			-			PCHBUF[2]	PCHBUF[1]	PCHBUF[0]
                                    1-0035      ; 0BH --------- PortA/B Pull-Low Control Register
                  B                 1-  36      ABPLCON				EQU		0BH ;	/PB[3]		/PB[2]		/PB[1]		/PB[0]		/PA[3]		/PA[2]		/PA[1]		/PA[0]		
                                    1-0037      ; 0CH --------- PortB Pull-High Control Register
                  C                 1-  38      BPHCON				EQU		0CH ;	-			-			/PB[5]		/PB[4]		/PB[3]	    /PB[2]		/PB[1]		/PB[0]	
                                    1-0039      ; 0DH --------- Reserved
                                    1-0040      ; 0EH --------- Interrupt Enable Register
                  E                 1-  41      INTE				EQU		0EH ;	ExtINT1		WDT			-			LVDIE		TMR1		ExtINT0		PABKey		TMR0	
                                    1-0042      ; 0FH --------- Interrupt Flag	(Write '0' to Clear Flag)
                  F                 1-  43      INTF				EQU		0FH ;	ExtINT1		WDT			-			LVDIF		TMR1		ExtINT0		PABKey		TMR0	
                                    1-0044      ; 10H --------- Reserved	
                                    1-0045      ; 11H --------- Reserved
                                    1-0046      ; 12H --------- Reserved
                                    1-0047      ; 13H --------- Reserved
                                    1-0048      ; 14H --------- Reserved
                                    1-0049      ; 15H --------- PortA Wakeup Control Register
                 15                 1-  50      AWUCON				EQU		15H ;	PA[7]		PA[6]		PA[5]		PA[3]		PA[3]		PA[2]		PA[1]		PA[0]
                                    1-0051      ; 16H --------- Reserved
                                    1-0052      ; 17H --------- Reserved
                                    1-0053      ; 18H --------- External Interrupt Contorl Register
                 18                 1-  54      INTEDG 				EQU		18H ;	-			-			ExINT1En	ExINT0En	INT1_Edg[1]	INT1_Edg[0]	INT0_Edg[1]	INT0_Edg[0]	
                                    1-0055      ; 19H --------- TIMER1 Data and PWMDUTY1/2 msb 2 bits Register
                 19                 1-  56      TMRH  				EQU		19H ;	-			-			TMR1_DATA9	TMR1_DATA8	PWM2_DUTY9	PWM2_DUTY8	PWM1_DUTY9	PWM1_DUTY8	
                                    1-0057      ; 1AH --------- Reserved
                                    1-0058      ; 1BH --------- Resistor to Frequency Converter Control Register
                 1B                 1-  59      RFC 				EQU		1BH	;	RFCEN		-			-			-			PADSel[3]	PADSel[2]	PADSel[1]	PADSel[0]
                                    1-0060      ; 1CH --------- TIMER3 Data and PWMDUTY3/4 msb 2 bits Register
                 1C                 1-  61      TM34RH  			EQU		1CH	;	-			-			TMR3_DATA9	TMR3_DATA8	PWM4_DUTY9	PWM4_DUTY8	PWM3_DUTY9	PWM3_DUTY8	
                                    1-0062      ; 1DH --------- Reserved
                                    1-0063      ; 1EH --------- Reserved
                                    1-0064      ; 1FH --------- Interrupt2 Enable Register	(Write '0' to Clear Flag)
                 1F                 1-  65      INTE2 				EQU		1FH	;	-			-			-			T3IF		-			-			-			T3IE			
                                    1-0066      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0067      ;T0MD and T0MDR instrutions for access T0MD Register
                                    1-0068      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0069      ; xxH --------- Timer0 Control Register (Only Accessed by Instruction T0MD / T0MDR)
                                    1-0070      ;T0MD				EQU		xxH	;	LClkSrc		-			ClkSel		EdgeSel		PS0WDT		PS0Div[2]	PS0Div[1]	PS0Div[0]	
                                    1-0071      
                                    1-0072      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0073      ;IOST and IOSTR instrution for access F-page Register (IO Configuration Register)
                                    1-0074      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0075      ;F-page registers				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0076      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0077      ; 05H --------- PortA Direction(1:Input/0:Output) Control Register
                  5                 1-  78      IOSTA				EQU		05H
                                    1-0079      ; 06H --------- PortB Direction(1:Input/0:Output) Control Register
                  6                 1-  80      IOSTB				EQU		06H
                                    1-0081      ; 09H --------- PortA Pull-High Control Register (/PA[5]: Pull-Low)
                  9                 1-  82      APHCON				EQU		09H ;	/PA[7]		/PA[6]		/PA[5]		/PA[4]		/PA[3]		/PA[2]		/PA[1]		/PA[0]	
                                    1-0083      ; 0AH --------- Prescaler0 Counter Value Register
                  A                 1-  84      PS0CV				EQU		0AH
                                    1-0085      ; 0CH --------- PortB Open-Drain Control Register
                  C                 1-  86      BODCON				EQU		0CH ;	-			-			PB[5]		PB[4]		PB[3]  		PB[2]		PB[1]		PB[0]		
                                    1-0087      ; 0EH --------- Comparator voltage select Control Register
                  E                 1-  88      CMPCR				EQU		0EH ;	-	 		RBIAS_H 	RBIAS_L		CMPF_INV	PS1			PS0			NS1			NS0		
                                    1-0089      ; 0FH --------- Power Control Register 1
                  F                 1-  90      PCON1				EQU		0FH ;	GIE			LVDOUT		LVDS3		LVDS2		LVDS1		LVDS0		-			TMR0En	
                                    1-0091      
                                    1-0092      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0093      ;SFUN and SFUNR instrution for access S-page Register (Special Function Register)
                                    1-0094      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0095      ;S-page registers				;	bit7	|	bit6	|	bit5	|	bit4	|	bit3	|	bit2	|	bit1	|	bit0
                                    1-0096      ;-----------------------------------------------------------------------------------------------------------------------											
                                    1-0097      ; 00H --------- Timer1 Data Register	
                  0                 1-  98      TMR1				EQU		00H
                                    1-0099      ; 01H --------- Timer1 Control Register	1
                  1                 1- 100      T1CR1				EQU		01H ;	PWM1En		PWM1ActB	-			-			-			OneShot		Reload		TMR1En	
                                    1-0101      ; 02H --------- Timer1 Control Register	2
                  2                 1- 102      T1CR2				EQU		02H ;	-			-			ClkSel		EdgeSel		/PS1En		PS1Div[2]	PS1Div[1]	PS1Div[0]	
                                    1-0103      ; 03H --------- PWM1 Duty Register
                  3                 1- 104      PWM1DUTY			EQU		03H
                                    1-0105      ; 04H --------- Prescaler1 Counter Value Register
                  4                 1- 106      PS1CV				EQU		04H
                                    1-0107      ; 05H --------- Buzzer1 Control Register
                  5                 1- 108      BZ1CR				EQU		05H ;	BZ1En		-			-			-			FSel[3]		FSel[2]		FSel[1]		FSel[0]	
                                    1-0109      ; 06H --------- IR Control Register
                  6                 1- 110      IRCR				EQU		06H ;	IROSC358M   -			-			-			-			PolSel  	IRF57K		IREn	
                                    1-0111      ; 07H --------- Table Access High Byte Address Pointer Register
                  7                 1- 112      TBHP				EQU		07H ;	-			-			-			-			-			HPoint[2]	HPoint[1]	HPoint[0]	
                                    1-0113      ; 08H --------- Table Access High Byte Data Register
                  8                 1- 114      TBHD				EQU		08H ;	-			-			HData[5]	HData[4]	HData[3]	HData[2]	HData[1]	HData[0]	
                                    1-0115      ; 09H --------- Reserved	
                                    1-0116      ; 0AH --------- Timer2 Control Register	1
                  A                 1- 117      P2CR1				EQU		0AH ;	PWM2En		PWM2ActB	-			-			-			-			-			-	
                                    1-0118      ; 0BH --------- Reserved
                                    1-0119      ; 0CH --------- PWM2 Duty Register
                  C                 1- 120      PWM2DUTY			EQU		0CH
                                    1-0121      ; 0DH --------- Reserved
                                    1-0122      ; 0EH --------- Reserved
                                    1-0123      ; 0FH --------- Oscillation Control Register (Include Switch Working Mode)
                  F                 1- 124      OSCCR				EQU		0FH ;	-			-			-			-			Mode[1]		Mode[0]		HOSC_Stop	HOSC_Sel
                                    1-0125      ; 10H --------- Timer3 Data Register	
                 10                 1- 126      TMR3				EQU		10H
                                    1-0127      ; 11H --------- Timer3 Control Register	1
                 11                 1- 128      T3CR1				EQU		11H ;	PWM3En		PWM3ActB	-			-			-			OneShot		Reload		TMR3En	
                                    1-0129      ; 12H --------- Timer3 Control Register	2
                 12                 1- 130      T3CR2				EQU		12H ;	-			-			ClkSel		EdgeSel		/PS3En		PS3Div[2]	PS3Div[1]	PS3Div[0]	
                                    1-0131      ; 13H --------- PWM3 Duty Register
                 13                 1- 132      PWM3DUTY			EQU		13H
                                    1-0133      ; 14H --------- Prescaler3 Counter Value Register
                 14                 1- 134      PS3CV				EQU		14H
                                    1-0135      ; 15H --------- Reserved	
                                    1-0136      ; 16H --------- Timer4 Control Register	1
                 16                 1- 137      P4CR1				EQU		16H ;	PWM4En		PWM4ActB	-			-			-			-			-			-	
                                    1-0138      ; 17H --------- Reserved	
                                    1-0139      ; 18H --------- PWM4 Duty Register
                 18                 1- 140      PWM4DUTY			EQU		18H
                                    1-0141      ; 19H --------- Reserved
                                    1-0142      ; 1AH --------- Reserved	
                                    1-0143      ; 1BH --------- Timer5 Control Register	1
                 1B                 1- 144      P5CR1				EQU		1BH ;	PWM5En		PWM5ActB	-			-			-			-			-			-	
                                    1-0145      ; 1CH ---------	Reserved
                                    1-0146      ; 1DH --------- PWM5 Duty Register
                 1D                 1- 147      PWM5DUTY			EQU		1DH
                                    1-0148      ; 1EH --------- Reserved
                                    1-0149      ; 1FH --------- PWMDUTY5 msb 2 bits Register
                 1F                 1- 150      PWM5RH  			EQU		1FH	;	-			-			-			-			-			-			PWM5_DUTY9	PWM5_DUTY8	
                                    1-0151      
                                    1-0152      ;=======================================================================================================================
                                    1-0153      ;=======================================================================================================================
                                    1-0154      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0155      ; R-page Special Function Register (General Purpose Register)
                                    1-0156      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0157      ;------------------------------------------------------------
                                    1-0158      ; INDF (00H)	--------- Indirect Addressing Register
                                    1-0159      ;------------------------------------------------------------
                                    1-0160      ;Bit[7:0] : Indirect Address
                 FF                 1- 161      	C_Indir_Addr		EQU		FFH
                                    1-0162      
                                    1-0163      ;------------------------------------------------------------
                                    1-0164      ; TMR0 (01H)	--------- Timer0 Data Register	
                                    1-0165      ;------------------------------------------------------------
                                    1-0166      ;Bit[7:0] : Timer0 Data
                 FF                 1- 167      	C_TMR0_Data			EQU		FFH
                                    1-0168      
                                    1-0169      ;------------------------------------------------------------
                                    1-0170      ; PCL (02H)	--------- Low Byte of Program Counter
                                    1-0171      ;------------------------------------------------------------
                                    1-0172      ;Bit[7:0] : Low Byte of Program Counter
                 FF                 1- 173      	C_PCLow_Data		EQU		FFH
                                    1-0174      
                                    1-0175      ;------------------------------------------------------------
                                    1-0176      ; STATUS (03H)		--------- Status Register (Include RAM Bank Select)
                                    1-0177      ;------------------------------------------------------------
                                    1-0178      ;Bit[7:6] : RAM Bank Selection
                 C0                 1- 179      	C_RAM_Bank			EQU		C0H			; Select Ram Bank
                  0                 1- 180      	C_RAM_Bank0			EQU		00H			; Select Ram Bank0
                 40                 1- 181      	C_RAM_Bank1			EQU		40H			; Select Ram Bank1
                 80                 1- 182      	C_RAM_Bank2			EQU		80H			; Select Ram Bank2
                 C0                 1- 183      	C_RAM_Bank3			EQU		C0H			; Select Ram Bank3	
                                    1-0184      ;Bit[4:0] : System Status
                 10                 1- 185      	C_Status_WDT		EQU		10H			; WatchDog Overflow Flag
                  8                 1- 186      	C_Status_Slp		EQU		08H			; Sleep (Power Down) Flag
                  4                 1- 187      	C_Status_Z			EQU		04H			; Zero Flag
                  2                 1- 188      	C_Status_HalfC		EQU		02H			; Half Carry/Half Borrow Flag
                  1                 1- 189      	C_Status_C			EQU		01H			; Carry/Borrow Flag
                                    1-0190      	
                  4                 1- 191      	C_Status_WDT_Bit	EQU		4
                  3                 1- 192      	C_Status_Slp_Bit	EQU		3
                  2                 1- 193      	C_Status_Z_Bit		EQU		2
                  1                 1- 194      	C_Status_HalfC_Bit	EQU		1
                  0                 1- 195      	C_Status_C_Bit		EQU		0
                                    1-0196      
                                    1-0197      ;------------------------------------------------------------ 
                                    1-0198      ; FSR (04H)		--------- File Selection Register       
                                    1-0199      ;------------------------------------------------------------
                                    1-0200      ;Bit[7] : Reserved	
                                    1-0201      ;Bit[6:0] : Select one Register out of 128 registers of specific Bank.
                 7F                 1- 202      	C_SFR_RAM_Addr		EQU		7FH			; RAM Address Bit[6:0] 
                                    1-0203      
                                    1-0204      ;------------------------------------------------------------	 
                                    1-0205      ; PORTA (05H)		--------- PortA Data Register
                                    1-0206      ;------------------------------------------------------------ 
                                    1-0207      ;Bit[7:0] : PORTA Data Bit Define	
                 FF                 1- 208      	C_PA_Data			EQU		FFH			; PA  Data
                 80                 1- 209      	C_PA7_Data			EQU		80H			; PA7 Data
                 40                 1- 210      	C_PA6_Data			EQU		40H			; PA6 Data
                 20                 1- 211      	C_PA5_Data			EQU		20H			; PA5 Data
                 10                 1- 212      	C_PA4_Data			EQU		10H			; PA4 Data	
                  8                 1- 213      	C_PA3_Data			EQU		08H			; PA3 Data
                  4                 1- 214      	C_PA2_Data			EQU		04H			; PA2 Data
                  2                 1- 215      	C_PA1_Data			EQU		02H			; PA1 Data
                  1                 1- 216      	C_PA0_Data			EQU		01H			; PA0 Data
                                    1-0217      	
                                    1-0218      ;------------------------------------------------------------
                                    1-0219      ; PORTB (06H)		--------- PortB Data Register
                                    1-0220      ;------------------------------------------------------------
                                    1-0221      ;Bit[7:6] : Reserved	
                                    1-0222      ;Bit[5:0] : PORTB Data Bit Define	
                 3F                 1- 223      	C_PB_Data			EQU		3FH			; PB  Data
                 20                 1- 224      	C_PB5_Data			EQU		20H			; PB5 Data
                 10                 1- 225      	C_PB4_Data			EQU		10H			; PB4 Data	
                  8                 1- 226      	C_PB3_Data			EQU		08H			; PB3 Data
                  4                 1- 227      	C_PB2_Data			EQU		04H			; PB2 Data
                  2                 1- 228      	C_PB1_Data			EQU		02H			; PB1 Data
                  1                 1- 229      	C_PB0_Data			EQU		01H			; PB0 Data
                                    1-0230      
                                    1-0231      ;------------------------------------------------------------	
                                    1-0232      ; PCON (08H)		--------- Power Control Register (WatchDog,LVD ,LVR and Comparator Control) (/PA[4]: Pull-Low) (/PA[5]: Pull-High)
                                    1-0233      ;------------------------------------------------------------
                                    1-0234      ;Bit[7] : WatchDog Eanble
                 80                 1- 235      	C_WDT_En			EQU		80H			; WatchDog Enable
                                    1-0236      ;Bit[6] : PA4 Pull-Low Control bit			(1:Disable, 0:Pull-Low)
                 40                 1- 237          C_PA4_PLB_Dis		EQU		40H			; Disble PA4 Pull-Low    
                  0                 1- 238          C_PA4_PLB_En		EQU		00H			; Enable PA4 Pull-Low 
                                    1-0239      ;Bit[5] : LVD Eanble
                 20                 1- 240      	C_LVD_En			EQU		20H			; LVD Enable	
                                    1-0241      ;Bit[4] : PA5 Pull-High Control bit			(1:Disable, 0:Pull-High)
                 10                 1- 242          C_PA5_PHB_Dis		EQU		10H			; Disable PA5 Pull-High
                  0                 1- 243          C_PA5_PHB_En		EQU		00H			; Enable PA5 Pull-High
                                    1-0244      ;Bit[3] : LVR Enable
                  8                 1- 245      	C_LVR_En			EQU		08H			; LVR Enable
                                    1-0246      ;Bit[2] : Comparator Enable
                  4                 1- 247      	C_CMP_En			EQU		04H			; Comparator Enable	
                                    1-0248      ;Bit[1:0] : Reserved
                                    1-0249      
                  7                 1- 250      	C_WDT_En_Bit		EQU		7	
                  6                 1- 251      	C_PA4_PLB_Bit		EQU		6	
                  5                 1- 252      	C_LVD_En_Bit		EQU		5
                  4                 1- 253      	C_PA5_PHB_Bit		EQU		4	
                  3                 1- 254      	C_LVR_En_Bit		EQU		3
                  2                 1- 255      	C_CMP_En_Bit		EQU		2
                                    1-0256      	
                                    1-0257      ;------------------------------------------------------------	
                                    1-0258      ; BWUCON (09H)	--------- PortB Wakeup Control Register
                                    1-0259      ;------------------------------------------------------------
                                    1-0260      ;Bit[7:6] : Reserved
                                    1-0261      ;Bit[5:0] : BWUCON Bit Define
                 3F                 1- 262      	C_PB_Wakeup			EQU		3FH			; PortB Wakeup Enable	
                 20                 1- 263      	C_PB5_Wakeup		EQU		20H			; PB5 Wakeup Enable
                 10                 1- 264      	C_PB4_Wakeup		EQU		10H			; PB4 Wakeup Enable 	
                  8                 1- 265      	C_PB3_Wakeup		EQU		08H			; PB3 Wakeup Enable
                  4                 1- 266      	C_PB2_Wakeup		EQU		04H			; PB2 Wakeup Enable 
                  2                 1- 267      	C_PB1_Wakeup		EQU		02H			; PB1 Wakeup Enable
                  1                 1- 268      	C_PB0_Wakeup		EQU		01H			; PB0 Wakeup Enable
                                    1-0269      		
                                    1-0270      ;------------------------------------------------------------	
                                    1-0271      ; PCHBUF (0AH) --------- High Byte of Program Counter
                                    1-0272      ;------------------------------------------------------------
                                    1-0273      ;Bit[7] : Enable/disable Bandgap Voltage 
                 80                 1- 274      	C_BG_En					EQU		80H		; Enable Bandgap Voltage 
                  0                 1- 275      	C_BG_Dis				EQU		00H		; Disable Bandgap Voltage 	
                                    1-0276      ;Bit[6] : E_LXT Buckup Contorl Bit	(1:Disable, 0:Enable)
                 40                 1- 277      	C_ELXT_Backup_Dis		EQU		40H	
                                    1-0278      ;Bit[5:3] : Reserved
                                    1-0279      ;Bit[2:0] : High Byte of Program Counter
                  7                 1- 280      	C_PCHigh_Data			EQU		07H
                                    1-0281      
                  7                 1- 282      	C_BG_En_Bit				EQU		7	
                  6                 1- 283      	C_ELXT_Backup_Dis_Bit	EQU		6
                                    1-0284      		
                                    1-0285      ;------------------------------------------------------------		
                                    1-0286      ; ABPLCON (0BH)	--------- PortA/B Pull-Low Control Register
                                    1-0287      ;------------------------------------------------------------
                                    1-0288      ;Bit[7:4] : PortB Pull-Low Control Register (1:Disable, 0:Pull-High)
                 F0                 1- 289          C_PB_PLB			EQU		F0H			; PortB Pull-Low Control bit
                 80                 1- 290          C_PB3_PLB			EQU		80H			; PB3 Pull-Low Control bit
                 40                 1- 291          C_PB2_PLB			EQU		40H			; PB2 Pull-Low Control bit	
                 20                 1- 292          C_PB1_PLB			EQU		20H			; PB1 Pull-Low Control bit 	
                 10                 1- 293          C_PB0_PLB			EQU		10H			; PB0 Pull-Low Control bit
                                    1-0294      ;Bit[3:0] : PortA Pull-Low Control Register
                  F                 1- 295          C_PA_PLB			EQU		0FH			; PortA Pull-Low Control bit
                  8                 1- 296          C_PA3_PLB			EQU		08H			; PA3 Pull-Low Control bit
                  4                 1- 297          C_PA2_PLB			EQU		04H			; PA2 Pull-Low Control bit	
                  2                 1- 298          C_PA1_PLB			EQU		02H			; PA1 Pull-Low Control bit	
                  1                 1- 299          C_PA0_PLB			EQU		01H			; PA0 Pull-Low Control bit
                                    1-0300      
                                    1-0301      ;------------------------------------------------------------	
                                    1-0302      ; BPHCON (0CH)	--------- PortB Pull-High Control Register
                                    1-0303      ;------------------------------------------------------------
                                    1-0304      ;Bit[7:6] : Reserved
                                    1-0305      ;Bit[5:0] : PortB Pull-High Control Register (1:Disable, 0:Pull-High)
                 3F                 1- 306      	C_PB_PHB			EQU		3FH			; PortB Pull-High Control bit 
                 20                 1- 307      	C_PB5_PHB			EQU		20H			; PB5 Pull-High Control bit	
                 10                 1- 308      	C_PB4_PHB			EQU		10H			; PB4 Pull-High Control bit	
                  8                 1- 309      	C_PB3_PHB			EQU		08H			; PB3 Pull-High Control bit	
                  4                 1- 310      	C_PB2_PHB			EQU		04H			; PB2 Pull-High Control bit
                  2                 1- 311      	C_PB1_PHB			EQU		02H			; PB1 Pull-High Control bit
                  1                 1- 312      	C_PB0_PHB			EQU		01H			; PB0 Pull-High Control bit
                                    1-0313      
                                    1-0314      ;------------------------------------------------------------	
                                    1-0315      ; INTE (0EH)		--------- Interrupt Enable Register
                                    1-0316      ; INTF (0FH)		--------- Interrupt Flag
                                    1-0317      ;------------------------------------------------------------
                                    1-0318      ;Bit[7:0] : Interrupt Source
                 80                 1- 319      	C_INT_EXT1			EQU		80H			; EX_INT1 interrupt enable bit
                 40                 1- 320      	C_INT_WDT			EQU		40H			; WDT timeout interrupt enable bit
                 10                 1- 321      	C_INT_LVD			EQU		10H			; LVD interrupt enable bit	
                 10                 1- 322      	C_INT_CMP			EQU		10H			; Comparator interrupt enable bit		
                  8                 1- 323      	C_INT_TMR1			EQU		08H			; Timer1 underflow interrupt enable bit
                  4                 1- 324      	C_INT_EXT0			EQU		04H			; EX_INT0 interrupt enable bit
                  2                 1- 325      	C_INT_PABKey		EQU		02H			; PortA/B input change interrupt enable bit
                  1                 1- 326      	C_INT_TMR0			EQU		01H			; Timer0 overflow interrupt enable bit 
                                    1-0327      
                  7                 1- 328      	C_INT_EXT1_Bit		EQU		7
                  6                 1- 329      	C_INT_WDT_Bit		EQU		6	
                  4                 1- 330      	C_INT_LVD_Bit		EQU		4	
                  4                 1- 331      	C_INT_CMP_Bit		EQU		4		
                  3                 1- 332      	C_INT_TMR1_Bit		EQU		3
                  2                 1- 333      	C_INT_EXT0_Bit		EQU		2
                  1                 1- 334      	C_INT_PABKey_Bit	EQU		1
                  0                 1- 335      	C_INT_TMR0_Bit		EQU		0
                                    1-0336      	
                                    1-0337      ;------------------------------------------------------------	
                                    1-0338      ; AWUCON (15H) 	--------- PortA Wakeup Control Register
                                    1-0339      ;------------------------------------------------------------	
                                    1-0340      ;Bit[7:0] : AWUCON Bit Define
                 FF                 1- 341      	C_PA_Wakeup			EQU		FFH			; Port A Wakeup Enable		
                 80                 1- 342      	C_PA7_Wakeup		EQU		80H			; PA7 Wakeup Enable
                 40                 1- 343      	C_PA6_Wakeup		EQU		40H			; PA6 Wakeup Enable 
                 20                 1- 344      	C_PA5_Wakeup		EQU		20H			; PA5 Wakeup Enable
                 10                 1- 345      	C_PA4_Wakeup		EQU		10H			; PA4 Wakeup Enable	
                  8                 1- 346      	C_PA3_Wakeup		EQU		08H			; PA3 Wakeup Enable
                  4                 1- 347      	C_PA2_Wakeup		EQU		04H			; PA2 Wakeup Enable 
                  2                 1- 348      	C_PA1_Wakeup		EQU		02H			; PA1 Wakeup Enable
                  1                 1- 349      	C_PA0_Wakeup		EQU		01H			; PA0 Wakeup Enable
                                    1-0350      
                                    1-0351      ;------------------------------------------------------------	
                                    1-0352      ; INTEDG (18H) 	--------- External Interrupt Contorl Register
                                    1-0353      ;------------------------------------------------------------	
                                    1-0354      ;Bit[7:6] : Reserved	
                                    1-0355      ;Bit[5] : External INT1 Eanble
                 20                 1- 356      	C_INT1_En			EQU		20H			; PB1/PA2 set as INT1 input
                                    1-0357      ;Bit[4] : External INT0 Eanble	
                 10                 1- 358      	C_INT0_En			EQU		10H			; PB0 set as INT0 input
                                    1-0359      ;Bit[3:2] : INT1 edge trigger select 
                  C                 1- 360          C_INT1_Edge			EQU		0CH			; INT1 trigger edge  --- 11b: Rising & Falling Edge, 10b:Falling Edge, 01b:Rising Edge    
                  C                 1- 361      	C_INT1_TwoEdge		EQU		0CH			; Rising & Falling edge trigger
                  8                 1- 362      	C_INT1_FallingEdge	EQU		08H			; Falling edge trigger	
                  4                 1- 363      	C_INT1_RisingEdge	EQU		04H			; Rising edge trigger			
                                    1-0364      ;Bit[1:0] : INT0 edge trigger select 
                  3                 1- 365          C_INT0_Edge			EQU		03H			; INT0 trigger edge  --- 11b: Rising & Falling Edge, 10b:Falling Edge, 01b:Rising Edge  
                  3                 1- 366      	C_INT0_TwoEdge		EQU		03H			; Rising & Falling edge trigger
                  2                 1- 367      	C_INT0_FallingEdge	EQU		02H			; Falling edge trigger	
                  1                 1- 368      	C_INT0_RisingEdge	EQU		01H			; Rising edge trigger	
                                    1-0369      
                  5                 1- 370      	C_INT1_En_Bit		EQU		5
                  4                 1- 371      	C_INT0_En_Bit		EQU		4
                                    1-0372      	
                                    1-0373      ;------------------------------------------------------------	
                                    1-0374      ; TMRH (19H) 	--------- TIMER1 Data and PWMDUTY1/2 msb 2 bits Register
                                    1-0375      ;------------------------------------------------------------	
                                    1-0376      ;Bit[7:6] : Reserved
                                    1-0377      ;Bit[5] : Timer1 Data Bit9	
                 20                 1- 378      	C_TMR1_Data_b9		EQU		20H			; Timer1 data bit9 
                                    1-0379      ;Bit[4] : Timer1 Data Bit8	
                 10                 1- 380      	C_TMR1_Data_b8		EQU		10H			; Timer1 data bit8		
                                    1-0381      ;Bit[3] : PWM2 Duty Bit9	
                  8                 1- 382      	C_PWM2_Duty_b9		EQU		08H			; PWM2 Duty bit9 
                                    1-0383      ;Bit[2] : PWM2 Duty Bit8	
                  4                 1- 384      	C_PWM2_Duty_b8		EQU		04H			; PWM2 Duty bit8
                                    1-0385      ;Bit[1] : Timer1 PWM Duty Bit9	
                  2                 1- 386      	C_PWM1_Duty_b9		EQU		02H			; PWM1 Duty bit9 
                                    1-0387      ;Bit[0] : Timer1 PWM Duty Bit8	
                  1                 1- 388      	C_PWM1_Duty_b8		EQU		01H			; PWM1 Duty bit8	
                                    1-0389      	
                                    1-0390      ;------------------------------------------------------------	
                                    1-0391      ; RFC (1BH) 	--------- Resistor to Frequency Converter Control Register
                                    1-0392      ;------------------------------------------------------------		
                                    1-0393      ;Bit[7] : Enable/disable RFC function
                 80                 1- 394      	C_RFC_En			EQU		80H			; Enable RFC function
                  0                 1- 395      	C_RFC_Dis			EQU		00H			; Disable RFC function	
                                    1-0396      ;Bit[6:4] : Reserved	
                                    1-0397      ;Bit[3:0] : Select one of the RFC pad
                  D                 1- 398      	C_RFC_PB5			EQU		0DH			; Select PB5 as RFC pad
                  C                 1- 399      	C_RFC_PB4			EQU		0CH			; Select PB4 as RFC pad	
                  B                 1- 400      	C_RFC_PB3			EQU		0BH			; Select PB3 as RFC pad
                  A                 1- 401      	C_RFC_PB2			EQU		0AH			; Select PB2 as RFC pad	
                  9                 1- 402      	C_RFC_PB1			EQU		09H			; Select PB1 as RFC pad	
                  8                 1- 403      	C_RFC_PB0			EQU		08H			; Select PB0 as RFC pad	
                  7                 1- 404      	C_RFC_PA7			EQU		07H			; Select PA7 as RFC pad
                  6                 1- 405      	C_RFC_PA6			EQU		06H			; Select PA6 as RFC pad
                  5                 1- 406      	C_RFC_PA5			EQU		05H			; Select PA5 as RFC pad
                  4                 1- 407      	C_RFC_PA4			EQU		04H			; Select PA4 as RFC pad
                  3                 1- 408      	C_RFC_PA3			EQU		03H			; Select PA3 as RFC pad
                  2                 1- 409      	C_RFC_PA2			EQU		02H			; Select PA2 as RFC pad	
                  1                 1- 410      	C_RFC_PA1			EQU		01H			; Select PA1 as RFC pad
                  0                 1- 411      	C_RFC_PA0			EQU		00H			; Select PA0 as RFC pad	
                                    1-0412      		
                  7                 1- 413      	C_RFC_En_Bit		EQU		7
                  3                 1- 414      	C_PSEL3_Bit			EQU		3
                  2                 1- 415      	C_PSEL2_Bit			EQU		2
                  1                 1- 416      	C_PSEL1_Bit			EQU		1
                  0                 1- 417      	C_PSEL0_Bit			EQU		0	
                                    1-0418      
                                    1-0419      ;------------------------------------------------------------	
                                    1-0420      ; TM34RH (1CH) 	--------- TIMER3 Data and PWMDUTY3/4 msb 2 bits Register
                                    1-0421      ;------------------------------------------------------------	
                                    1-0422      ;Bit[7:6] : Reserved	
                                    1-0423      ;Bit[5] : Timer3 Data Bit9	
                 20                 1- 424      	C_TMR3_Data_b9		EQU		20H			; Timer3 data bit9 
                                    1-0425      ;Bit[4] : Timer3 Data Bit8	
                 10                 1- 426      	C_TMR3_Data_b8		EQU		10H			; Timer3 data bit8		
                                    1-0427      ;Bit[3] : PWM4 Duty Bit9	
                  8                 1- 428      	C_PWM4_Duty_b9		EQU		08H			; PWM4 Duty bit9 
                                    1-0429      ;Bit[2] : PWM4 Duty Bit8	
                  4                 1- 430      	C_PWM4_Duty_b8		EQU		04H			; PWM4 Duty bit8		
                                    1-0431      ;Bit[1] : Timer3 PWM Duty Bit9	
                  2                 1- 432      	C_PWM3_Duty_b9		EQU		02H			; PWM3 Duty bit9 
                                    1-0433      ;Bit[0] : Timer3 PWM Duty Bit8	
                  1                 1- 434      	C_PWM3_Duty_b8		EQU		01H			; PWM3 Duty bit8	
                                    1-0435      
                                    1-0436      ;------------------------------------------------------------	
                                    1-0437      ; INTE2 (1FH)		--------- Interrupt2 Enable Register
                                    1-0438      ;------------------------------------------------------------
                                    1-0439      ;Bit[7:5] : Reserved	
                                    1-0440      ;Bit[4] : Timer3 underflow Interrupt flag bit
                 10                 1- 441      	C_INF_TMR3			EQU		10H			; Timer3 underflow interrupt flag bit
                                    1-0442      ;Bit[3:1] : Reserved
                                    1-0443      ;Bit[0] : Timer3 underflow Interrupt enable bit
                  1                 1- 444      	C_INE_TMR3			EQU		01H			; Timer3 underflow interrupt enable bit 
                                    1-0445      
                                    1-0446      ;------------------------------------------------------------	
                                    1-0447      ; T0MD (xxH)		--------- T0MD Register
                                    1-0448      ;------------------------------------------------------------
                                    1-0449      ;		C_TMR0_Clk		C_TMR0_LowClk	|	Timer 0 Clock Source
                                    1-0450      ;------------------------------------------------------------
                                    1-0451      ;		0				x				|	From Instruction Clock
                                    1-0452      ;		1				0				|	From External Pin
                                    1-0453      ;		1				1				|	From Low Oscillator Frequency (I_LRC or E_LXT)
                                    1-0454      ;------------------------------------------------------------
                                    1-0455      ;Bit[7,5:4] : Timer0 Clock Source Selection
                 80                 1- 456      	C_TMR0_LowClk		EQU		80H			; Same as LCKTM0	
                 20                 1- 457      	C_TMR0_Clk			EQU		20H			; Same as T0CS
                 10                 1- 458      	C_TMR0_ExtClk_Edge	EQU		10H			; Timer0 External Clock Edge Select --- 1:Falling Edge, 0:Rising Edge
                                    1-0459      ;Bit[6] : Reserved
                                    1-0460      ;Bit[3] : Watchdog Interrupt Source Selection / Timer0 Prescaler0 Selection
                  8                 1- 461      	C_PS0_WDT			EQU		08H			; Prescaler0 is assigned to WDT
                  0                 1- 462      	C_PS0_TMR0			EQU		00H			; Prescaler0 is assigned to TMR0
                                    1-0463      ;Bit[2:0] : Prescaler0 Dividing Rate Selection
                  7                 1- 464      	C_PS0_Div			EQU		07H			; Prescaler0 Dividing Rate Selection
                  0                 1- 465      	C_PS0_Div2			EQU		00H
                  1                 1- 466      	C_PS0_Div4			EQU		01H
                  2                 1- 467      	C_PS0_Div8			EQU		02H
                  3                 1- 468      	C_PS0_Div16			EQU		03H
                  4                 1- 469      	C_PS0_Div32			EQU		04H
                  5                 1- 470      	C_PS0_Div64			EQU		05H
                  6                 1- 471      	C_PS0_Div128		EQU		06H
                  7                 1- 472      	C_PS0_Div256		EQU		07H
                                    1-0473      
                                    1-0474      ;=======================================================================================================================
                                    1-0475      ;=======================================================================================================================
                                    1-0476      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0477      ; F-page Special Function Register (IO Configuration Register)
                                    1-0478      ;-----------------------------------------------------------------------------------------------------------------------	
                                    1-0479      ;------------------------------------------------------------
                                    1-0480      ; IOSTA (05H)	--------- PortA Direction(Input/Output) Control Register
                                    1-0481      ;------------------------------------------------------------
                                    1-0482      ;Bit[7:0] : Port A Input/Output Mode Selection (1:Input, 0:Output)
                 FF                 1- 483      	C_PA_Input			EQU		FFH			; Port A Input Mode Control
                  0                 1- 484      	C_PA_Output			EQU		00H			; Port A Output Mode Control
                                    1-0485      
                 80                 1- 486      	C_PA7_Input			EQU		80H			; PA7 I/O mode Control bit
                 40                 1- 487      	C_PA6_Input			EQU		40H			; PA6 I/O mode Control bit
                 20                 1- 488      	C_PA5_Input			EQU		20H			; PA5 I/O mode Control bit
                 10                 1- 489      	C_PA4_Input			EQU		10H			; PA4 I/O mode Control bit 
                  8                 1- 490      	C_PA3_Input			EQU		08H			; PA3 I/O mode Control bit
                  4                 1- 491      	C_PA2_Input			EQU		04H			; PA2 I/O mode Control bit
                  2                 1- 492      	C_PA1_Input			EQU		02H			; PA1 I/O mode Control bit
                  1                 1- 493      	C_PA0_Input			EQU		01H			; PA0 I/O mode Control bit 
                  0                 1- 494      	C_PA7_Output		EQU		00H			; PA7 I/O mode Control bit
                  0                 1- 495      	C_PA6_Output		EQU		00H			; PA6 I/O mode Control bit
                  0                 1- 496      	C_PA5_Output		EQU		00H			; PA5 I/O mode Control bit
                  0                 1- 497      	C_PA4_Output		EQU		00H			; PA4 I/O mode Control bit 	
                  0                 1- 498      	C_PA3_Output		EQU		00H			; PA3 I/O mode Control bit
                  0                 1- 499      	C_PA2_Output		EQU		00H			; PA2 I/O mode Control bit
                  0                 1- 500      	C_PA1_Output		EQU		00H			; PA1 I/O mode Control bit
                  0                 1- 501      	C_PA0_Output		EQU		00H			; PA0 I/O mode Control bit 
                                    1-0502      
                                    1-0503      ;------------------------------------------------------------	
                                    1-0504      ; IOSTB (06H)	--------- PortB Direction(Input/Output) Control Register
                                    1-0505      ;------------------------------------------------------------
                                    1-0506      ;Bit[7:6] : Reserved
                                    1-0507      ;Bit[5:0] : Port B Input/Output Mode Selection (1:Input, 0:Output)
                 3F                 1- 508      	C_PB_Input			EQU		3FH			; Port B Input Mode Control
                  0                 1- 509      	C_PB_Output			EQU		00H			; Port B Output Mode Control
                 20                 1- 510      	C_PB5_Input			EQU		20H			; PB5 I/O mode Control bit
                 10                 1- 511      	C_PB4_Input			EQU		10H			; PB4 I/O mode Control bit
                  8                 1- 512      	C_PB3_Input			EQU		08H			; PB3 I/O mode Control bit
                  4                 1- 513      	C_PB2_Input			EQU		04H			; PB2 I/O mode Control bit
                  2                 1- 514      	C_PB1_Input			EQU		02H			; PB1 I/O mode Control bit
                  1                 1- 515      	C_PB0_Input			EQU		01H			; PB0 I/O mode Control bit
                  0                 1- 516      	C_PB5_Output		EQU		00H			; PB5 I/O mode Control bit
                  0                 1- 517      	C_PB4_Output		EQU		00H			; PB4 I/O mode Control bit	
                  0                 1- 518      	C_PB3_Output		EQU		00H			; PB3 I/O mode Control bit
                  0                 1- 519      	C_PB2_Output		EQU		00H			; PB2 I/O mode Control bit
                  0                 1- 520      	C_PB1_Output		EQU		00H			; PB1 I/O mode Control bit
                  0                 1- 521      	C_PB0_Output		EQU		00H			; PB0 I/O mode Control bit
                                    1-0522      
                                    1-0523      ;------------------------------------------------------------	
                                    1-0524      ; APHCON (09H)	--------- PortA Pull-High Control Register
                                    1-0525      ;------------------------------------------------------------
                                    1-0526      ;Bit[7:0] : PortA Pull-High Control Register (1:Disable, 0:Pull-High)
                 FF                 1- 527      	C_PA_PHB			EQU		FFH			; PortA Pull-High Control bit 
                 80                 1- 528      	C_PA7_PHB			EQU		80H			; PA7 Pull-High Control bit 
                 40                 1- 529      	C_PA6_PHB			EQU		40H			; PA6 Pull-High Control bit   
                 20                 1- 530      	C_PA5_PLB			EQU		20H			; PA5 Pull-Low  Control bit
                 10                 1- 531      	C_PA4_PHB			EQU		10H			; PA4 Pull-High Control bit
                  8                 1- 532      	C_PA3_PHB			EQU		08H			; PA3 Pull-High Control bit	
                  4                 1- 533      	C_PA2_PHB			EQU		04H			; PA2 Pull-High Control bit
                  2                 1- 534      	C_PA1_PHB			EQU		02H			; PA1 Pull-High Control bit
                  1                 1- 535      	C_PA0_PHB			EQU		01H			; PA0 Pull-High Control bit
                                    1-0536      
                                    1-0537      ;------------------------------------------------------------	
                                    1-0538      ; PS0CV (0AH)		--------- Prescaler0 Counter Value Register
                                    1-0539      ;------------------------------------------------------------
                                    1-0540      ;Bit[7:0] : Prescaler0 Counter Value
                 FF                 1- 541      	C_PS0_Cnt			EQU		FFH			; Read-only	
                                    1-0542      	
                                    1-0543      ;------------------------------------------------------------	
                                    1-0544      ; B0DCON (0CH)	--------- PortB Open-Drain Control Register
                                    1-0545      ;------------------------------------------------------------
                                    1-0546      ;Bit[7:6] : Reserved
                                    1-0547      ;Bit[5:0] : PortB Open-Drain Control (1:Open-Drain, 0:Disable)
                 3F                 1- 548      	C_PB_OD				EQU		3FH			; Port B Open-Drain Control
                 20                 1- 549      	C_PB5_OD			EQU		20H			; PB5 Open-Drain Control bit	
                 10                 1- 550      	C_PB4_OD			EQU		10H			; PB4 Open-Drain Control bit	
                  8                 1- 551      	C_PB3_OD			EQU		08H			; PB3 Open-Drain Control bit	
                  4                 1- 552      	C_PB2_OD			EQU		04H			; PB2 Open-Drain Control bit
                  2                 1- 553      	C_PB1_OD			EQU		02H			; PB1 Open-Drain Control bit 
                  1                 1- 554      	C_PB0_OD			EQU		01H			; PB0 Open-Drain Control bit
                                    1-0555      
                                    1-0556      ;------------------------------------------------------------	
                                    1-0557      ; CMPCR (0EH)	--------- Comparator voltage select Control Register
                                    1-0558      ;------------------------------------------------------------
                                    1-0559      ;Bit[7] : Reserved
                                    1-0560      
                                    1-0561      ;Bit[6] : VDD_ref bias high enable bit  (1:Enable, 0: Disable)
                  0                 1- 562      	C_RBias_High_Dis 		EQU		00H
                 40                 1- 563      	C_RBias_High_En 		EQU		40H	
                                    1-0564      ;LVDS[3:0]		VDD_ref
                                    1-0565      ;------------------------------
                                    1-0566      ;0000			0.51 * VDD  (about)
                                    1-0567      ;0001			0.48 * VDD	(about)		
                                    1-0568      ;0010			0.44 * VDD	(about)	
                                    1-0569      ;0011			0.40 * VDD	(about)	
                                    1-0570      ;0100			0.37 * VDD	(about)		
                                    1-0571      ;0101			0.34 * VDD	(about)		
                                    1-0572      ;0110			0.33 * VDD	(about)		
                                    1-0573      ;0111			0.32 * VDD	(about)		
                                    1-0574      ;1000			0.31 * VDD	(about)		
                                    1-0575      ;1001			0.29 * VDD	(about)		
                                    1-0576      ;1010			0.28 * VDD	(about)		
                                    1-0577      ;1011			0.27 * VDD	(about)		
                                    1-0578      ;1100			0.26 * VDD	(about)		
                                    1-0579      ;1101			0.25 * VDD	(about)		
                                    1-0580      ;1110			0.24 * VDD	(about)		
                                    1-0581      ;1111			0.23 * VDD	(about)
                                    1-0582      
                                    1-0583      ;Bit[5] : VDD_ref bias low enable bit  (1:Enable, 0: Disable) 
                  0                 1- 584      	C_RBias_Low_Dis 		EQU		00H
                 20                 1- 585      	C_RBias_Low_En 			EQU		20H
                                    1-0586      ;LVDS[3:0]		VDD_ref
                                    1-0587      ;------------------------------
                                    1-0588      ;0000			0.24 * VDD	(about)	
                                    1-0589      ;0001			0.23 * VDD	(about)		
                                    1-0590      ;0010			0.20 * VDD	(about)	
                                    1-0591      ;0011			0.17 * VDD	(about)		
                                    1-0592      ;0100			0.15 * VDD	(about)		
                                    1-0593      ;0101			0.13 * VDD	(about)		
                                    1-0594      ;0110			0.124 * VDD	(about)		
                                    1-0595      ;0111			0.116 * VDD	(about)		
                                    1-0596      ;1000			0.106 * VDD	(about)		
                                    1-0597      ;1001			0.096 * VDD	(about)		
                                    1-0598      ;1010			0.088 * VDD	(about)		
                                    1-0599      ;1011			0.080 * VDD	(about)		
                                    1-0600      ;1100			0.072 * VDD	(about)		
                                    1-0601      ;1101			0.065 * VDD	(about)		
                                    1-0602      ;1110			0.059 * VDD	(about)		
                                    1-0603      ;1111			0.055 * VDD	(about)
                                    1-0604      
                                    1-0605      ;Bit[4] : Comparator Interrupt  trigger edge control(Comparator output state need polling SFR bit "LVDOUT")
                  0                 1- 606      	C_CMPFINV_Dis		EQU		00H			; LVDIF=1 when Vp > Vn
                 10                 1- 607      	C_CMPFINV_En		EQU		10H			; LVDIF=1 when Vp < Vn	
                                    1-0608      	
                                    1-0609      ;Bit[3:2] :	Non-inverting input	pad select
                                    1-0610      ;Bit[1:0] :	Inverting input	pad	select
                                    1-0611      
                                    1-0612      ;Comparator input select
                                    1-0613      ;Bit[3:0]	Non-inverting input		Inverting input
                                    1-0614      ;-------------------------------------------
                                    1-0615      ;0000		PA0						PA1
                                    1-0616      ;0001		PA0						PA3
                                    1-0617      ;0010		PA0						Bandgap
                                    1-0618      ;0011		PA0						VDD_ref
                                    1-0619      ;0100		PA2						PA1
                                    1-0620      ;0101		PA2						PA3
                                    1-0621      ;0110		PA2						Bandgap
                                    1-0622      ;0111		PA2						VDD_ref
                                    1-0623      ;1000		VDD_ref					PA1
                                    1-0624      ;1001		VDD_ref					PA3
                                    1-0625      ;1010		VDD_ref					Bandgap				(only for LVD)
                                    1-0626      ;1011		NA						NA
                                    1-0627      ;11XX		NA						NA
                                    1-0628      
                                    1-0629      ; Bandgap voltage is about 0.6V	
                                    1-0630      
                                    1-0631      ;------------------------------------------------------------	
                                    1-0632      ; PCON1 (0FH)	--------- Power Control Register 1
                                    1-0633      ;------------------------------------------------------------
                                    1-0634      ;Bit[7] : All Interrupt Enable
                 80                 1- 635      	C_All_INT_En		EQU		80H			; Enable all unmasked interrupts
                                    1-0636      ;Bit[6] : Low voltage detector output 		( This bit can be Comparator output state when SFR bit "CMPEN=1")
                 40                 1- 637      	C_LVDOUT			EQU		40H			; read-only
                 40                 1- 638      	C_CMPOUT			EQU		40H			; read-only	
                                    1-0639      ;Bit[5:2] : Select one of the 16 LVD voltage ( Note: SFR CMPCR[7:0] must be set 00001010b )
                 3C                 1- 640      	C_LVD_4P15V			EQU		3CH			; LVD Voltage=4.15V
                 38                 1- 641      	C_LVD_4P05V			EQU		38H			; LVD Voltage=4.05V	
                 34                 1- 642      	C_LVD_3P9V			EQU		34H			; LVD Voltage=3.9V	
                 30                 1- 643      	C_LVD_3P75V			EQU		30H			; LVD Voltage=3.75V	
                 2C                 1- 644      	C_LVD_3P6V			EQU		2CH			; LVD Voltage=3.6V
                 28                 1- 645      	C_LVD_3P45V			EQU		28H			; LVD Voltage=3.45V	
                 24                 1- 646      	C_LVD_3P3V			EQU		24H			; LVD Voltage=3.3V	
                 20                 1- 647      	C_LVD_3P15V			EQU		20H			; LVD Voltage=3.15V	
                 1C                 1- 648      	C_LVD_3P0V			EQU		1CH			; LVD Voltage=3.0V	
                 18                 1- 649      	C_LVD_2P9V			EQU		18H			; LVD Voltage=2.9V	
                 14                 1- 650      	C_LVD_2P8V			EQU		14H			; LVD Voltage=2.8V
                 10                 1- 651      	C_LVD_2P6V			EQU		10H			; LVD Voltage=2.6V	
                  C                 1- 652      	C_LVD_2P4V			EQU		0CH			; LVD Voltage=2.4V
                  8                 1- 653      	C_LVD_2P2V			EQU		08H			; LVD Voltage=2.2V
                  4                 1- 654      	C_LVD_2P0V			EQU		04H			; LVD Voltage=2.0V
                  0                 1- 655      	C_LVD_1P9V			EQU		00H			; LVD Voltage=1.9V
                                    1-0656      ;Bit[1] : Reserved	
                                    1-0657      ;Bit[0] : Timer0 Enable
                  1                 1- 658      	C_TMR0_En			EQU		01H			; Enable Timer0
                  0                 1- 659      	C_TMR0_Dis			EQU		00H			; Disable Timer0
                                    1-0660      
                  6                 1- 661      	C_LVDOUT_Bit		EQU		6			; read-only
                  6                 1- 662      	C_CMPOUT_bit		EQU		6			; read-only			
                                    1-0663      ;=======================================================================================================================
                                    1-0664      ;=======================================================================================================================
                                    1-0665      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0666      ; S-page Special Function Register (Special Function Register)
                                    1-0667      ;-----------------------------------------------------------------------------------------------------------------------		
                                    1-0668      ;------------------------------------------------------------
                                    1-0669      ; TMR1 (00H)	--------- Timer1 Data Register
                                    1-0670      ;------------------------------------------------------------
                                    1-0671      ;Bit[7:0] : Timer1 Data
                 FF                 1- 672      	C_TMR1_Data			EQU		FFH	
                                    1-0673      	
                                    1-0674      ;------------------------------------------------------------	
                                    1-0675      ; T1CR1 (01H)	--------- Timer1 Control Register 1
                                    1-0676      ;------------------------------------------------------------
                                    1-0677      ;Bit[7:6] : PWM1 Control
                 80                 1- 678      	C_PWM1_En			EQU		80H 		; PWM1 output will be present on PB3 or PA4
                 40                 1- 679      	C_PWM1_Active		EQU		40H 		; PWM1 output is active
                 40                 1- 680      	C_PWM1_Active_Lo	EQU		40H 		; PWM1 output is active low 
                  0                 1- 681      	C_PWM1_Active_Hi	EQU		00H 		; PWM1 output is active high 
                                    1-0682      ;Bit[5:3] : Reserved
                                    1-0683      ;Bit[2:0] : Timer1 Control
                  4                 1- 684      	C_TMR1_OneShot		EQU		04H 		; One-Shot mode. Timer1 will count once from the initial value to 0x00
                  2                 1- 685      	C_TMR1_Reload		EQU		02H 		; Initial value is reloaded from reload register TMR1(T1OS=0)
                                    1-0686      
                  1                 1- 687      	C_TMR1_En			EQU		01H 		; Enable Timer1
                  0                 1- 688      	C_TMR1_Dis			EQU		00H 		; Disable Timer1
                                    1-0689      
                                    1-0690      ;------------------------------------------------------------	
                                    1-0691      ; T1CR2 (02H)	--------- Timer1 Control Register 2
                                    1-0692      ;------------------------------------------------------------
                                    1-0693      ;Bit[7:6] : Reserved
                                    1-0694      ;Bit[5] : Timer1 Clock Source Select
                 20                 1- 695      	C_TMR1_ClkSrc_Ext	EQU		20H			; Timer1 clock source from External Clock Input(EX_CKI0)
                  0                 1- 696      	C_TMR1_ClkSrc_Inst	EQU		00H			; Timer1 clock source from Internal Instruction Clock	
                                    1-0697      ;Bit[4] : Timer1 external clock edge selection
                 10                 1- 698          C_TMR1_ExtClk_Edge	EQU		10H			; Timer1 External Clock Edge Select --- 1:Falling Edge, 0:Rising Edge  
                 10                 1- 699      	C_TMR1_ExtFalling	EQU		10H			; Timer1 will decrease one while EX_CKI0 Falling Edge.
                  0                 1- 700      	C_TMR1_ExtRising	EQU		00H			; Timer1 will decrease one while EX_CKI0 Rising Edge.
                                    1-0701      ;Bit[3] :  Disable/enable Prescaler1
                  8                 1- 702          C_PS1_Dis           EQU		08H			; Disable Prescaler1
                  0                 1- 703      	C_PS1_EN			EQU		00H			; Enable Prescaler1
                                    1-0704      ;Bit[2:0] : Prescaler 1 Dividing Rate Selection
                  7                 1- 705      	C_PS1_Div			EQU		07H			; Prescaler1 Dividing Rate Selection
                  0                 1- 706      	C_PS1_Div2			EQU		00H
                  1                 1- 707      	C_PS1_Div4			EQU		01H
                  2                 1- 708      	C_PS1_Div8			EQU		02H
                  3                 1- 709      	C_PS1_Div16			EQU		03H
                  4                 1- 710      	C_PS1_Div32			EQU		04H
                  5                 1- 711      	C_PS1_Div64			EQU		05H
                  6                 1- 712      	C_PS1_Div128		EQU		06H
                  7                 1- 713      	C_PS1_Div256		EQU		07H
                                    1-0714      
                                    1-0715      ;------------------------------------------------------------	
                                    1-0716      ; PWM1DUTY (03H)	--------- PWM1 Duty Register
                                    1-0717      ;------------------------------------------------------------
                                    1-0718      ;Bit[7:0] : PWM1 Duty Value
                 FF                 1- 719      	C_PWM1_Duty			EQU		FFH
                                    1-0720      
                                    1-0721      ;------------------------------------------------------------	
                                    1-0722      ; PS1CV (04H)		--------- Prescaler1 Counter Value Register
                                    1-0723      ;------------------------------------------------------------
                                    1-0724      ;Bit[7:0] : Prescaler1 Counter Value
                 FF                 1- 725      	C_PS1_Cnt			EQU		FFH			; Read-only
                                    1-0726      
                                    1-0727      ;------------------------------------------------------------	
                                    1-0728      ; BZ1CR (05H)		--------- Buzzer1 Control Register
                                    1-0729      ;------------------------------------------------------------
                                    1-0730      ;Bit[7] : BZ1 Enable
                 80                 1- 731      	C_BZ1_En			EQU		80H			; Enable BZ1 output
                                    1-0732      ;Bit[6:4] : Reserved
                                    1-0733      ;Bit[3:0] : BZ1 Frequency Selection
                  F                 1- 734      	C_BZ1_FSel			EQU		0FH			; BZ1 frequency selection
                                    1-0735      
                  0                 1- 736      	C_BZ1_PS1Div2		EQU		00H			; Clock Soruce from Prescaler 1
                  1                 1- 737      	C_BZ1_PS1Div4		EQU		01H
                  2                 1- 738      	C_BZ1_PS1Div8		EQU		02H
                  3                 1- 739      	C_BZ1_PS1Div16		EQU		03H
                  4                 1- 740      	C_BZ1_PS1Div32		EQU		04H
                  5                 1- 741      	C_BZ1_PS1Div64		EQU		05H
                  6                 1- 742      	C_BZ1_PS1Div128		EQU		06H
                  7                 1- 743      	C_BZ1_PS1Div256		EQU		07H
                                    1-0744      
                  8                 1- 745      	C_BZ1_TMR1B0		EQU		08H			; Clock Source from Timer 1
                  9                 1- 746      	C_BZ1_TMR1B1		EQU		09H
                  A                 1- 747      	C_BZ1_TMR1B2		EQU		0AH
                  B                 1- 748      	C_BZ1_TMR1B3		EQU		0BH
                  C                 1- 749      	C_BZ1_TMR1B4		EQU		0CH
                  D                 1- 750      	C_BZ1_TMR1B5		EQU		0DH
                  E                 1- 751      	C_BZ1_TMR1B6		EQU		0EH
                  F                 1- 752      	C_BZ1_TMR1B7		EQU		0FH
                                    1-0753      
                                    1-0754      ;------------------------------------------------------------	
                                    1-0755      ; IRCR (06H)		--------- IR Control Register
                                    1-0756      ;------------------------------------------------------------
                                    1-0757      ;Bit[7] : IR Clock Source Selection (1:3.58MHz, 0:455KHz)
                 80                 1- 758      	C_IR_ClkSrc_358M	EQU		80H			; IRCR[7]=1 , external crystal is 3.58MHz (This bit is ignored if internal high frequency oscillation is used)
                  0                 1- 759      	C_IR_ClkSrc_455K	EQU		00H			; IRCR[7]=0 , external crystal is 455KHz
                                    1-0760      ;Bit[6:3] : Reserved
                                    1-0761      ;Bit[2] : IR Polarity Selection
                  4                 1- 762      	C_IR_Pol_Sel		EQU		04H
                                    1-0763      ;Bit[1] : IR Carrier Frequency Selection (1:57KHz, 0:38KHz)
                  2                 1- 764      	C_IR_57K			EQU		02H			; IRCR[1]=1 , IR carrier frequency is 57KHz
                  0                 1- 765      	C_IR_38K			EQU		00H			; IRCR[1]=0 , IR carrier frequency is 38KHz
                                    1-0766      ;Bit[0] : IR Enable
                  1                 1- 767      	C_IR_En				EQU		01H			; Enable IR carrier output
                                    1-0768      
                                    1-0769      ;------------------------------------------------------------	
                                    1-0770      ; TBHP (07H)	--------- Table Access High Byte Address Pointer Register
                                    1-0771      ;------------------------------------------------------------
                                    1-0772      ;Bit[7:3] : Reserved
                                    1-0773      ;Bit[2:0] : Table Access High Byte Address Pointer
                  7                 1- 774      	C_TbHigh_Addr		EQU		07H			; When instruction CALLA, GOTOA or TABLEA is executed TBHP[2:0] is PC[10:8]
                                    1-0775      
                                    1-0776      ;------------------------------------------------------------	
                                    1-0777      ; TBHD (08H)	--------- Table Access High Byte Data Register
                                    1-0778      ;------------------------------------------------------------
                                    1-0779      ;Bit[7:6] : Reserved
                                    1-0780      ;Bit[5:0] : Table Access High Byte Data
                 3F                 1- 781      	C_TbHigh_Data		EQU		3FH
                                    1-0782      		
                                    1-0783      ;------------------------------------------------------------	
                                    1-0784      ; P2CR1 (0AH)	--------- PWM2 Control Register 1
                                    1-0785      ;------------------------------------------------------------
                                    1-0786      ;Bit[7:6] : PWM2 Control
                 80                 1- 787      	C_PWM2_En			EQU		80H 		; PWM2 output will be present on PB2 or PA0
                 40                 1- 788      	C_PWM2_Active		EQU		40H 		; PWM2 output is active
                 40                 1- 789      	C_PWM2_Active_Lo	EQU		40H 		; PWM2 output is active low 
                  0                 1- 790      	C_PWM2_Active_Hi	EQU		00H 		; PWM2 output is active high 
                                    1-0791      ;Bit[5:0] : Reserved
                                    1-0792      
                                    1-0793      ;------------------------------------------------------------	
                                    1-0794      ; PWM2DUTY (0CH)	--------- PWM2 Duty Register
                                    1-0795      ;------------------------------------------------------------
                                    1-0796      ;Bit[7:0] : PWM2 Duty Value
                 FF                 1- 797      	C_PWM2_Duty			EQU		FFH
                                    1-0798      	
                                    1-0799      ;------------------------------------------------------------   
                                    1-0800      ; OSCCR (0FH)	--------- Oscillation Control Register (Include Switch Working Mode)
                                    1-0801      ;------------------------------------------------------------
                                    1-0802      ;Bit[7:4] : Reserved
                                    1-0803      ;Bit[3:2] : System Mode Select
                  C                 1- 804      	C_Mode				EQU		0CH			; System Operating Mode Selection
                  0                 1- 805      	C_Normal_Mode		EQU		00H			; Enter Normal mode
                  4                 1- 806      	C_Halt_Mode			EQU		04H			; Enter Halt mode
                  8                 1- 807      	C_Standby_Mode		EQU		08H			; Enter Standby mode
                                    1-0808      ;Bit[1] : Stop FHOSC
                  2                 1- 809      	C_FHOSC_Stop		EQU		02H			; Disable high-frequency oscillation (FHOSC)
                                    1-0810      ;Bit[0] : FOSC Seletction
                  1                 1- 811      	C_FHOSC_Sel			EQU		01H			; OSCCR[0]=1 , FOSC is high-frequency oscillation (FHOSC)
                  0                 1- 812      	C_FLOSC_Sel			EQU		00H			; OSCCR[0]=0 , FOSC is Low-frequency oscillation (FLOSC)	
                                    1-0813      	
                                    1-0814      ;------------------------------------------------------------
                                    1-0815      ; TMR3 (10H)	--------- Timer3 Data Register
                                    1-0816      ;------------------------------------------------------------
                                    1-0817      ;Bit[7:0] : Timer3 Data
                 FF                 1- 818      	C_TMR3_Data			EQU		FFH	
                                    1-0819      	
                                    1-0820      ;------------------------------------------------------------	
                                    1-0821      ; T3CR1 (11H)	--------- Timer3 Control Register 1
                                    1-0822      ;------------------------------------------------------------
                                    1-0823      ;Bit[7:6] : PWM3 Control
                 80                 1- 824      	C_PWM3_En			EQU		80H 		; PWM3 output will be present on PA3 or PB4
                 40                 1- 825      	C_PWM3_Active		EQU		40H 		; PWM3 output is active
                 40                 1- 826      	C_PWM3_Active_Lo	EQU		40H 		; PWM3 output is active low 
                  0                 1- 827      	C_PWM3_Active_Hi	EQU		00H 		; PWM3 output is active high 
                                    1-0828      ;Bit[5:3] : Reserved
                                    1-0829      ;Bit[2:0] : Timer3 Control
                  4                 1- 830      	C_TMR3_OneShot		EQU		04H 		; One-Shot mode. Timer3 will count once from the initial value to 0x00
                  2                 1- 831      	C_TMR3_Reload		EQU		02H 		; Initial value is reloaded from reload register TMR3(T3OS=0)
                                    1-0832               
                  1                 1- 833      	C_TMR3_En			EQU		01H 		; Enable Timer3
                  0                 1- 834      	C_TMR3_Dis			EQU		00H 		; Disable Timer3
                                    1-0835      
                                    1-0836      ;------------------------------------------------------------	
                                    1-0837      ; T3CR2 (12H)	--------- Timer3 Control Register 2
                                    1-0838      ;------------------------------------------------------------
                                    1-0839      ;Bit[7:6] : Reserved
                                    1-0840      ;Bit[5] : Timer3 Clock Source Select
                 20                 1- 841      	C_TMR3_ClkSrc_Ext	EQU		20H			; Timer3 clock source from External Clock Input(EX_CKI1)
                  0                 1- 842      	C_TMR3_ClkSrc_Inst	EQU		00H			; Timer3 clock source from Internal Instruction Clock	
                                    1-0843      ;Bit[4] : Timer3 external clock edge selection
                 10                 1- 844          C_TMR3_ExtClk_Edge	EQU		10H			; Timer3 External Clock Edge Select --- 1:Falling Edge, 0:Rising Edge  
                 10                 1- 845      	C_TMR3_ExtFalling	EQU		10H			; Timer3 will decrease one while EX_CKI1 Falling Edge.
                  0                 1- 846      	C_TMR3_ExtRising	EQU		00H			; Timer3 will decrease one while EX_CKI1 Rising Edge.
                                    1-0847      ;Bit[3] : Disable/enable Prescaler3
                  8                 1- 848          C_PS3_Dis           EQU		08H			; Disable Prescaler3
                  0                 1- 849      	C_PS3_EN			EQU		00H			; Enable Prescaler3
                                    1-0850      ;Bit[2:0] : Prescaler 3 Dividing Rate Selection
                  7                 1- 851      	C_PS3_Div			EQU		07H			; Prescaler3 Dividing Rate Selection
                  0                 1- 852      	C_PS3_Div2			EQU		00H
                  1                 1- 853      	C_PS3_Div4			EQU		01H
                  2                 1- 854      	C_PS3_Div8			EQU		02H
                  3                 1- 855      	C_PS3_Div16			EQU		03H
                  4                 1- 856      	C_PS3_Div32			EQU		04H
                  5                 1- 857      	C_PS3_Div64			EQU		05H
                  6                 1- 858      	C_PS3_Div128		EQU		06H
                  7                 1- 859      	C_PS3_Div256		EQU		07H
                                    1-0860      
                                    1-0861      ;------------------------------------------------------------	
                                    1-0862      ; PWM3DUTY (13H)	--------- PWM3 Duty Register
                                    1-0863      ;------------------------------------------------------------
                                    1-0864      ;Bit[7:0] : PWM3 Duty Value
                 FF                 1- 865      	C_PWM3_Duty			EQU		FFH
                                    1-0866      
                                    1-0867      ;------------------------------------------------------------	
                                    1-0868      ; PS3CV (14H)		--------- Prescaler3 Counter Value Register
                                    1-0869      ;------------------------------------------------------------
                                    1-0870      ;Bit[7:0] : Prescaler3 Counter Value
                 FF                 1- 871      	C_PS3_Cnt			EQU		FFH			; Read-only	
                                    1-0872      	
                                    1-0873      ;------------------------------------------------------------	
                                    1-0874      ; P4CR1 (16H)	--------- PWM4 Control Register 1
                                    1-0875      ;------------------------------------------------------------
                                    1-0876      ;Bit[7:6] : PWM4 Control
                 80                 1- 877      	C_PWM4_En			EQU		80H 		; PWM4 output will be present on PA2 or PB5
                 40                 1- 878      	C_PWM4_Active		EQU		40H 		; PWM4 output is active
                 40                 1- 879      	C_PWM4_Active_Lo	EQU		40H 		; PWM4 output is active low 
                  0                 1- 880      	C_PWM4_Active_Hi	EQU		00H 		; PWM4 output is active high 
                                    1-0881      ;Bit[5:0] : Reserved
                                    1-0882      
                                    1-0883      ;------------------------------------------------------------	
                                    1-0884      ; PWM4DUTY (18H)	--------- PWM4 Duty Register
                                    1-0885      ;------------------------------------------------------------
                                    1-0886      ;Bit[7:0] : PWM4 Duty Value
                 FF                 1- 887      	C_PWM4_Duty			EQU		FFH
                                    1-0888      	
                                    1-0889      ;------------------------------------------------------------	
                                    1-0890      ; P5CR1 (1BH)	--------- PWM5 Control Register 1
                                    1-0891      ;------------------------------------------------------------
                                    1-0892      ;Bit[7:6] : PWM5 Control
                 80                 1- 893      	C_PWM5_En			EQU		80H 		; PWM5 output will be present on PA1 or PB0
                 40                 1- 894      	C_PWM5_Active		EQU		40H 		; PWM5 output is active
                 40                 1- 895      	C_PWM5_Active_Lo	EQU		40H 		; PWM5 output is active low 
                  0                 1- 896      	C_PWM5_Active_Hi	EQU		00H 		; PWM5 output is active high 
                                    1-0897      ;Bit[5:0] : Reserved
                                    1-0898      
                                    1-0899      ;------------------------------------------------------------	
                                    1-0900      ; PWM5DYTY (1DH)	--------- PWM5 Duty Register
                                    1-0901      ;------------------------------------------------------------
                                    1-0902      ;Bit[7:0] : PWM5 Duty Value
                 FF                 1- 903      	C_PWM5_Duty			EQU		FFH
                                    1-0904      
                                    1-0905      ;------------------------------------------------------------	
                                    1-0906      ; PWM5RH (1FH) 	--------- PWMDUTY5 msb 2 bits Register
                                    1-0907      ;------------------------------------------------------------	
                                    1-0908      ;Bit[7:2] : Reserved			
                                    1-0909      ;Bit[1] : PWM5 PWM Duty Bit9	
                  2                 1- 910      	C_PWM5_Duty_b9		EQU		02H			; PWM5 Duty bit9 
                                    1-0911      ;Bit[0] : PWM5 PWM Duty Bit8	
                  1                 1- 912      	C_PWM5_Duty_b8		EQU		01H			; PWM5 Duty bit8	
                                    1-0913      			
                                    1-0914      ;=======================================================================================================================
                                    1-0915      ;=======================================================================================================================
                                    1-0916      ;-----------------------------------------------------------------------------------------------------------------------
                                    1-0917      ;General Constant Define
                                    1-0918      ;-----------------------------------------------------------------------------------------------------------------------
                  0                 1- 919      	C_SaveToAcc			EQU		00H	
                  1                 1- 920      	C_SaveToReg			EQU		01H	
                                    1-0921      
                  1                 1- 922      	C_Bit0				EQU		01H
                  2                 1- 923      	C_Bit1				EQU		02H
                  4                 1- 924      	C_Bit2				EQU		04H
                  8                 1- 925      	C_Bit3				EQU		08H
                 10                 1- 926      	C_Bit4				EQU		10H
                 20                 1- 927      	C_Bit5				EQU		20H
                 40                 1- 928      	C_Bit6				EQU		40H
                 80                 1- 929      	C_Bit7				EQU		80H
                                    1-0930      
                  0                 1- 931      	C_Num0				EQU		0
                  1                 1- 932      	C_Num1				EQU		1
                  2                 1- 933      	C_Num2				EQU		2
                  3                 1- 934      	C_Num3				EQU		3
                  4                 1- 935      	C_Num4				EQU		4
                  5                 1- 936      	C_Num5				EQU		5
                  6                 1- 937      	C_Num6				EQU		6
                  7                 1- 938      	C_Num7				EQU		7
                                    1-0939      	
                 FE                 1- 940      	C_nBit0				EQU		FEH
                 FD                 1- 941      	C_nBit1				EQU		FDH
                 FB                 1- 942      	C_nBit2				EQU		FBH
                 F7                 1- 943      	C_nBit3				EQU		F7H
                 EF                 1- 944      	C_nBit4				EQU		EFH
                 DF                 1- 945      	C_nBit5				EQU		DFH
                 BF                 1- 946      	C_nBit6				EQU		BFH
                 7F                 1- 947      	C_nBit7				EQU		7FH
                                    1-0948      	
                                    1-0949      #DEFINE		BIT_0		B'00000001'
                                    1-0950      #DEFINE		BIT_1		B'00000010'
                                    1-0951      #DEFINE		BIT_2		B'00000100'
                                    1-0952      #DEFINE		BIT_3		B'00001000'
                                    1-0953      #DEFINE		BIT_4		B'00010000'
                                    1-0954      #DEFINE		BIT_5		B'00100000'
                                    1-0955      #DEFINE		BIT_6		B'01000000'
                                    1-0956      #DEFINE		BIT_7		B'10000000'
                                    1-0957      
                  1                 1- 958      TO_R			 EQU  H'0001'
                  0                 1- 959      TO_A			 EQU  H'0000'
                  0                 1- 960      C_B              EQU  H'0000'
                  1                 1- 961      DC_B             EQU  H'0001'
                  1                 1- 962      HC_B			 EQU  H'0001'
                  2                 1- 963      Z_B              EQU  H'0002'
                                    0-0003      ;--------------------------------------------------------------------------
                                    0-0004      ;              -----|_|-----
                                    0-0005      ;           --|1 ANT     	XC2 10|--
                                    0-0006      ;           --|2 GND   		XC1  9|--
                                    0-0007      ;           --|3 VCC	 	PB2  8|--PEN
                                    0-0008      ;           --|4 PA5		PA2  7|--FB
                                    0-0009      ;         LR--|5 PA4		PA3  6|--COM
                                    0-0010      ;              -------------	
                                    0-0011      ;CS连PA1，CLK连PA0，MOSI连PB5，MISO连PB4
                                    0-0012      #define		IO_RF_MISO			PORTB, 4
                                    0-0013      #define		IO_RF_MOSI			PORTB, 5
                                    0-0014      #define		IO_RF_SCK			PORTA, 0
                                    0-0015      #define		IO_RF_CSN			PORTA, 1
                                    0-0016      
                                    0-0017      #define		LR_PIN				PORTA,4
                                    0-0018      #define		COM_PIN				PORTA,3
                                    0-0019      #define		FB_PIN				PORTA,2
                                    0-0020      #define		PEN_PIN				PORTB,2
                                    0-0021      ;;------------------------------------------------
                                    0-0022      #define	TEST_RF_MISO			PORTA, 2	
                                    0-0023      #define	TEST_RF_MOSI			PORTA, 3
                                    0-0024      #define	TEST_RF_SCK				PORTA, 4
                                    0-0025      #define	TEST_RF_CSN				PORTA, 5
                                    0-0026      ;;------------------------------------------------
                                    0-0027      ; #define	C_CMD1_CHN				79
                                    0-0028      ; #define	C_CMD2_CHN				80
                                    0-0029      ; #define	C_CMD4_CHN				79
                                    0-0030      ;;------------------------------------------------
                                    0-0031      
                                    0-0032      ;--------------- Variable Definition --------------------------------------
                                    0-0033      ;--------------------------------------------------------------------------
                 20                 0-  34      R_RF_DAT_BUF			EQU		0X20
                 20                 0-  35      R_RF_SEND_0				EQU		0X20
                 20                 0-  36      R_RF_REC_0				EQU		0X20
                 21                 0-  37      R_RF_SEND_1				EQU		0X21
                 21                 0-  38      R_RF_REC_1				EQU		0X21
                 22                 0-  39      R_RF_SEND_2				EQU		0X22
                 22                 0-  40      R_RF_REC_2				EQU		0X22
                 23                 0-  41      R_RF_SEND_3				EQU		0X23
                 23                 0-  42      R_RF_REC_3				EQU		0X23
                 24                 0-  43      R_RF_SEND_4				EQU		0X24
                 24                 0-  44      R_RF_REC_4				EQU		0X24
                 25                 0-  45      R_RF_SEND_5				EQU		0X25
                 25                 0-  46      R_RF_REC_5				EQU		0X25
                 26                 0-  47      R_RF_SEND_6				EQU		0X26
                 26                 0-  48      R_RF_REC_6				EQU		0X26
                 27                 0-  49      R_RF_SEND_7				EQU		0X27
                 27                 0-  50      R_RF_REC_7				EQU		0X27
                 28                 0-  51      R_RF_SEND_8				EQU		0X28
                 28                 0-  52      R_RF_REC_8				EQU		0X28
                 29                 0-  53      R_RF_SEND_9				EQU		0X29
                 29                 0-  54      R_RF_REC_9				EQU		0X29
                 2A                 0-  55      R_RF_SEND_10			EQU		0X2A
                 2A                 0-  56      R_RF_REC_10				EQU		0X2A
                 2B                 0-  57      R_RF_SEND_11			EQU		0X2B
                 2B                 0-  58      R_RF_REC_11				EQU		0X2B
                 2C                 0-  59      R_RF_SEND_12			EQU		0X2C
                 2C                 0-  60      R_RF_REC_12				EQU		0X2C
                 2D                 0-  61      R_RF_SEND_13			EQU		0X2D
                 2D                 0-  62      R_RF_REC_13				EQU		0X2D
                 2E                 0-  63      R_RF_SEND_14			EQU		0X2E
                 2E                 0-  64      R_RF_REC_14				EQU		0X2E
                 2F                 0-  65      R_RF_SEND_15			EQU		0X2F
                 2F                 0-  66      R_RF_REC_15				EQU		0X2F
                                    0-0067      
                 2D                 0-  68      R_SPI_TEMP0				EQU		0X2D
                 2E                 0-  69      R_SPI_TEMP1				EQU		0X2E
                 2F                 0-  70      R_SPI_TEMP2				EQU		0X2F
                                    0-0071      
                 30                 0-  72      R_SPI_ADR				EQU		0X30
                 31                 0-  73      R_RF_DATA_LEN			EQU		0X31
                 32                 0-  74      R_RF_RX_RESULT			EQU		0X32
                 32                 0-  75      R_RF_TX_RESULT			EQU		0X32
                 33                 0-  76      R_CHN_INDEX				EQU		0X33
                 34                 0-  77      R_RF_ADDR0				EQU		0X34
                 35                 0-  78      R_RF_ADDR1				EQU		0X35
                 36                 0-  79      R_RF_ADDR2				EQU		0X36
                 37                 0-  80      R_SPI_DATA				EQU		0X37
                 38                 0-  81      R_TEMP00				EQU		0X38
                 39                 0-  82      R_TEMP01				EQU		0X39
                 3A                 0-  83      R_TEMP02				EQU		0X3A
                 3B                 0-  84      R_DDL0					EQU		0X3B
                 3C                 0-  85      R_DDL1					EQU		0X3C
                 3D                 0-  86      R_TR_START				EQU		0X3D
                                    0-0087      
                 40                 0-  88      R_RX_ADDR0				EQU		0X40
                 41                 0-  89      R_RX_ADDR1				EQU		0X41
                 42                 0-  90      R_RX_ADDR2				EQU		0X42
                 43                 0-  91      R_TX_ADDR0				EQU		0X43
                 44                 0-  92      R_TX_ADDR1				EQU		0X44
                 45                 0-  93      R_TX_ADDR2				EQU		0X45
                                    0-0094      ;--------------------------------------------------------------------------
                 46                 0-  95      FLAG_1					EQU		0X46
                 47                 0-  96      FLAG_2					EQU		0X47
                 48                 0-  97      FLAG_3					EQU		0X48
                 49                 0-  98      rollingcode_0			EQU		0X49
                 4A                 0-  99      rollingcode_1			EQU		0X4A
                 4B                 0- 100      rollingcode_2			EQU		0X4B
                 4C                 0- 101      rollingcode_3			EQU		0X4C
                 4D                 0- 102      RXcode_0				EQU		0X4D
                 4E                 0- 103      RXcode_1				EQU		0X4E
                 4F                 0- 104      RXcode_2				EQU		0X4F
                 50                 0- 105      channel_table_offest	EQU		0X50
                 51                 0- 106      rf_channel				EQU		0X51
                 52                 0- 107      temp_x					EQU		0X52
                 53                 0- 108      LAST_TEMP_X				EQU		0X53
                 54                 0- 109      KEY_CNT					EQU		0X54
                 55                 0- 110      key_cmd1				EQU		0X55
                 56                 0- 111      key_cmd2				EQU		0X56
                 57                 0- 112      led_cnt					EQU		0X57
                 58                 0- 113      SLEEP_CNT1				EQU		0X58
                 59                 0- 114      SLEEP_CNT2				EQU		0X59
                 5A                 0- 115      rx_outtimes				EQU		0X5A
                 5B                 0- 116      SLEEP_CNT				EQU		0X5B
                                    0-0117      
                                    0-0118      
                                    0-0119      
                                    0-0120      ;R_USER_FLAG			EQU		0X7D
                 7E                 0- 121      R_S_TMP					EQU		0X7E
                 7F                 0- 122      R_W_TMP					EQU		0X7F
                                    0-0123      
                                    0-0124      ;--------------------------------------------------------------------------
                                    0-0125      ;              -----|_|-----
                                    0-0126      ;           --|1 ANT     	XC2 10|--
                                    0-0127      ;           --|2 GND   		XC1  9|--
                                    0-0128      ;           --|3 VCC	 	PB2  8|--PEN
                                    0-0129      ;           --|4 PA5		PA2  7|--FB
                                    0-0130      ;         LR--|5 PA4		PA3  6|--COM
                                    0-0131      ;              -------------	
                                    0-0132      ;CS连PA1，CLK连PA0，MOSI连PB5，MISO连PB4
                 14                 0- 133      D_Iosta		EQU    	00010100B ;1,input,;0,output
                  0                 0- 134      D_PORTA		EQU    	00000000B
                                    0-0135      
                 14                 0- 136      D_Iostb		EQU    	00010100B ;1,input,;0,output
                  0                 0- 137      D_PORTB		EQU    	00000000B
                                    0-0138      
                 EB                 0- 139      D_PHA  	    equ     11101011B ;1,disable;0,enable	PA上拉
                 EB                 0- 140      D_PHB  	    equ     11101011B ;1,disable;0,enable	PB上拉
                                    0-0141      
                 FF                 0- 142      D_PDCon     equ    11111111B ;1,disable;0,enable	下拉 用于PA与PB
                                    0-0143      
                 FF                 0- 144      D_WakeUp_A	  equ    11111111B ;1,enable ;0,disable	PA唤醒
                 FF                 0- 145      D_WakeUp_B    equ    11111111B ;1,enable ;0,disable	PB唤醒
                                    0-0146      
                  0                 0- 147      D_BODCON	equ    00000000B ;1,enable ;0,disable	PB开漏
                 E8                 0- 148      D_POWER		equ    11101000B 	
                                    0-0149      
                                    0-0150      ;--------------- Constant Definition --------------------------------------
                                    0-0151      ;--------------------------------------------------------------------------
                                    0-0152      ;flag_1
                                    0-0153      	#define		DELAY_8MS_FLAG			flag_1,0
                                    0-0154      ;	#define		led_on_off_flag		flag_1,1
                                    0-0155      ;	#define		txrx_flag			flag_1,2
                                    0-0156      ;	#define		have_rx_flag		flag_1,3
                                    0-0157      ;	#define		led_start_flag		flag_1,4
                                    0-0158      ;	#define		last_rx_flag		flag_1,5
                                    0-0159      ;	#define		key_off_flag		flag_1,6
                                    0-0160      ;	#define		key_off_flag		flag_1,7
                                    0-0161      ;flag_2
                                    0-0162      	#define		pair_flag			flag_2,0
                                    0-0163      	#define		txrx_flag			flag_2,1
                                    0-0164      	#define		rx_successful_flag	flag_2,2
                                    0-0165      	#define		have_high_flag		flag_2,3
                                    0-0166      	#define		B_4MsFlag			flag_2,4
                                    0-0167      	#define		START_FLAG			flag_2,5
                                    0-0168      	#define		lvd_flag			flag_2,6
                                    0-0169      	#define		SLEEP_FLAG			flag_2,7
                                    0-0170      
                                    0-0171      ;--------------------------------------------------------------------------
                                    0-0172      ;--------------------------------------------------------------------------
                                    0-0173      #define		PAIR_CHANNLE		65
                                    0-0174      #define		PAIR_CHANNLE_RX		64
                  0                 0- 175      A				EQU		0x0
                  1                 0- 176      R				EQU		0x1
                                    0-0177      #define			ZF			STATUS,2
                                    0-0178      #define			CF			STATUS,0
                                    0-0179      ;-------------------------------------------------
                                    0-0180      ;-------------------------------------------------
                                    0-0181      
                                    0-0182      #define		F_RF_TX_OK			R_RF_TX_RESULT, 5
                                    0-0183      #define		F_RF_RX_OK			R_RF_RX_RESULT, 6
                                    0-0184      
                                    0-0185      
                                    0-0186      ;--------------- Vector Definition ----------------------------------------
                                    0-0187      ;--------------------------------------------------------------------------
                  0                 0- 188      		ORG		0x000		
        0 3843                      0- 189     		lgoto	V_Main                
                                    0-0190      		
                  8                 0- 191      		ORG		0x008
        8 391A                      0- 192     		lgoto	V_INT
                                    0-0193      		
                                    0-0194      ;--------------- Code Start -----------------------------------------------
                                    0-0195      ;--------------------------------------------------------------------------
                 10                 0- 196              ORG		0x010
                 10                 0- 197      GET_channel:	
       10 05D0                      0- 198     	INCR	channel_table_offest,1
       11 0150                      0- 199     	MOVR	channel_table_offest,0
       12 2702                      0- 200     	SUBIA	2
       13 0803                      0- 201     	BTRSS	CF
       14 02D0                      0- 202     	CLRR	channel_table_offest
                                    0-0203      	
       15 0150                      0- 204     	MOVR	channel_table_offest,0
       16 2819                      0- 205     	LCALL	Data_Channel_Table
       17 00D1                      0- 206     	MOVAR	rf_channel
       18 0010                      0- 207     	RET	
                                    0-0208      	
                 19                 0- 209      Data_Channel_Table:	
       19 0382                      0- 210     	addar		PCL,R
       1A 3830                      0- 211     	LGOTO		L_Channel0
       1B 381D                      0- 212     	LGOTO		L_Channel1
       1C 2041                      0- 213     	retia		PAIR_CHANNLE
                 1D                 0- 214      L_Channel1:
       1D 014D                      0- 215     	MOVR		RXcode_0,0
       1E 220F                      0- 216     	andia		00001111B
       1F 0382                      0- 217     	addar		PCL,R
       20 200D                      0- 218     	retia		13
       21 2011                      0- 219     	retia		17
       22 2015                      0- 220     	retia		21
       23 2019                      0- 221     	retia		25
       24 201D                      0- 222     	retia		29
       25 2021                      0- 223     	retia		33
       26 2025                      0- 224     	retia		37
       27 2029                      0- 225     	retia		41
       28 202D                      0- 226     	retia		45
       29 2031                      0- 227     	retia		49
       2A 2035                      0- 228     	retia		53
       2B 2039                      0- 229     	retia		57
       2C 203D                      0- 230     	retia		61
       2D 2041                      0- 231     	retia		65
       2E 2045                      0- 232     	retia		69
       2F 2049                      0- 233     	retia		73
                                    0-0234      	
                 30                 0- 235      L_Channel0:	
       30 0149                      0- 236     	MOVR		rollingcode_0,0
       31 220F                      0- 237     	andia  	    00001111B
       32 0382                      0- 238     	addar  	    PCL,R
       33 200A                      0- 239     	retia		10;0
       34 200E                      0- 240     	retia		14;1
       35 2012                      0- 241     	retia		18;2
       36 2016                      0- 242     	retia		22;3
       37 201A                      0- 243     	retia		26;4
       38 201E                      0- 244     	retia		30;5
       39 2022                      0- 245     	retia		34;6
       3A 2026                      0- 246     	retia		38;7
       3B 202A                      0- 247     	retia		42;8
       3C 202E                      0- 248     	retia		46;9
       3D 2032                      0- 249     	retia		50;10 
       3E 2036                      0- 250     	retia		54;11
       3F 203A                      0- 251     	retia		58;12
       40 203E                      0- 252     	retia		62;13
       41 2042                      0- 253     	retia		66;14
       42 2046                      0- 254     	retia		70;15
                                    0-0255      
                                    0-0256      ;======================================================================
                                    0-0257      ;======================================================================		
                 43                 0- 258      V_Main:
                                    0-0259      		; Power ON initial - User program area 
       43 0000                      0- 260     		NOP
       44 0000                      0- 261     		NOP
                                    0-0262      		
       45 2B5C                      0- 263     		LCALL		FT_TEST
       46 294A                      0- 264     		LCALL		RAM_INIT
       47 2933                      0- 265     		LCALL		GPIO_FUNC
       48 2927                      0- 266     		LCALL		TIME_INIT
       49 0004                      0- 267     		ENI			;开中断
                                    0-0268      
                                    0-0269      		
       4A 2983                      0- 270     		LCALL		Get_rolling_code	
       4B 29E7                      0- 271     		LCALL		INIT_RF
                                    0-0272      		
                                    0-0273      			
                                    0-0274      ;======================================================================
                                    0-0275      ;======================================================================
                 4C                 0- 276      MAIN:  	
       4C 0002                      0- 277     		clrwdt
       4D 0846                      0- 278     		BTRSS		DELAY_8MS_FLAG
       4E 384C                      0- 279     		LGOTO		MAIN
       4F 1C46                      0- 280     		BCR			DELAY_8MS_FLAG
                                    0-0281      		
                                    0-0282      		
       50 28BB                      0- 283     		LCALL		KEY_FUNC
       51 2855                      0- 284     		LCALL		TXRX_FUNC	
       52 28F3                      0- 285     		LCALL		SLEEP_FUNC
       53 2904                      0- 286     		LCALL		SYS_SLEEP_FUNC
                                    0-0287      	
       54 384C                      0- 288     		LGOTO		MAIN
                                    0-0289      ;======================================================================	
                                    0-0290      ;-------------------------------------------------------------------------------
                                    0-0291      ;-------------------------------------------------------------------------------
                 55                 0- 292      TXRX_FUNC:
       55 0847                      0- 293     	BTRSS		pair_flag		
       56 3870                      0- 294     	LGOTO		TXRX_PAIR
                 57                 0- 295      TX_MORMAL:	
       57 2810                      0- 296     	LCALL		GET_channel
       58 0151                      0- 297     	MOVR		rf_channel,0
       59 29CF                      0- 298     	LCALL		RF_SET_CHANNEL
       5A 2AD1                      0- 299     	LCALL		RF_SET_TX_MODE	
                                    0-0300      	
       5B 0149                      0- 301     	MOVR		rollingcode_0,0
       5C 00A0                      0- 302     	MOVAR		R_RF_SEND_0
       5D 014A                      0- 303     	MOVR		rollingcode_1,0
       5E 00A1                      0- 304     	MOVAR		R_RF_SEND_1
       5F 014B                      0- 305     	MOVR		rollingcode_2,0
       60 00A2                      0- 306     	MOVAR		R_RF_SEND_2
       61 014D                      0- 307     	MOVR		RXcode_0,0
       62 00A3                      0- 308     	MOVAR		R_RF_SEND_3
       63 014E                      0- 309     	MOVR		RXcode_1,0
       64 00A4                      0- 310     	MOVAR		R_RF_SEND_4
       65 014F                      0- 311     	MOVR		RXcode_2,0
       66 00A5                      0- 312     	MOVAR		R_RF_SEND_5
       67 2155                      0- 313     	MOVIA		0X55
       68 00A6                      0- 314     	MOVAR		R_RF_SEND_6
       69 0155                      0- 315     	MOVR		key_cmd1,0
       6A 00A7                      0- 316     	MOVAR		R_RF_SEND_7
                                    0-0317      	
       6B 0156                      0- 318     	MOVR		key_cmd2,0
       6C 00A8                      0- 319     	MOVAR		R_RF_SEND_8
                                    0-0320      	
                                    0-0321      	
       6D 2A8C                      0- 322     	LCALL		SEND_RF_DATA	
       6E 295E                      0- 323     	LCALL		DELAY_2MS	
                                    0-0324      	
       6F 38BA                      0- 325     	LGOTO		TXRX_FUNC_EXIT
                                    0-0326      	
                                    0-0327      ;-------------------------------------------------------------------------------
                                    0-0328      ;是否匹配的功能
                                    0-0329      ;-------------------------------------------------------------------------------
                 70                 0- 330      TXRX_PAIR:
       70 05D8                      0- 331     	INCR		SLEEP_CNT1,1					;延时30S，如果没匹配的话，sleep
       71 0158                      0- 332     	MOVR		SLEEP_CNT1,0
       72 27FA                      0- 333     	SUBIA		250				;4MS*250=1000MS=1S
       73 0C03                      0- 334     	BTRSC		STATUS,0
       74 387E                      0- 335     	LGOTO		TXRX_PAIR1
       75 02D8                      0- 336     	CLRR		SLEEP_CNT1
       76 05D9                      0- 337     	INCR		SLEEP_CNT2,1
       77 0159                      0- 338     	MOVR		SLEEP_CNT2,0
       78 271E                      0- 339     	SUBIA		30				;1*30=30S
       79 0C03                      0- 340     	BTRSC		STATUS,0
       7A 387E                      0- 341     	LGOTO		TXRX_PAIR1
       7B 02D9                      0- 342     	CLRR		SLEEP_CNT2
       7C 1BC7                      0- 343     	BSR			SLEEP_FLAG
       7D 387E                      0- 344     	LGOTO		TXRX_PAIR1
                                    0-0345      	
                 7E                 0- 346      TXRX_PAIR1:
       7E 0CC7                      0- 347     	BTRSC		txrx_flag
       7F 3898                      0- 348     	LGOTO		RX_FUNC
       80 18C7                      0- 349     	BSR			txrx_flag
                                    0-0350      	
       81 2141                      0- 351     	MOVIA		PAIR_CHANNLE
       82 29CF                      0- 352     	LCALL		RF_SET_CHANNEL
       83 2AD1                      0- 353     	LCALL		RF_SET_TX_MODE	
                                    0-0354      	
       84 0149                      0- 355     	MOVR		rollingcode_0,0
       85 00A0                      0- 356     	MOVAR		R_RF_SEND_0
       86 014A                      0- 357     	MOVR		rollingcode_1,0
       87 00A1                      0- 358     	MOVAR		R_RF_SEND_1
       88 014B                      0- 359     	MOVR		rollingcode_2,0
       89 00A2                      0- 360     	MOVAR		R_RF_SEND_2
       8A 02A3                      0- 361     	CLRR		R_RF_SEND_3
       8B 02A4                      0- 362     	CLRR		R_RF_SEND_4
       8C 02A5                      0- 363     	CLRR		R_RF_SEND_5
       8D 215A                      0- 364     	MOVIA		0X5A
       8E 00A6                      0- 365     	MOVAR		R_RF_SEND_6
       8F 02A7                      0- 366     	CLRR		R_RF_SEND_7
                                    0-0367      	
       90 02A8                      0- 368     	CLRR		R_RF_SEND_8
                                    0-0369      	
       91 2A8C                      0- 370     	LCALL		SEND_RF_DATA
       92 295E                      0- 371     	LCALL		DELAY_2MS
                                    0-0372      	
                                    0-0373      	;转接收
       93 2140                      0- 374     	MOVIA		PAIR_CHANNLE_RX		  ;; 接收频点比发射频点小1MHz
       94 29CF                      0- 375     	LCALL		RF_SET_CHANNEL
       95 2AD9                      0- 376     	LCALL		RF_SET_RX_MODE
                                    0-0377      	
       96 02DA                      0- 378     	CLRR		rx_outtimes
       97 38BA                      0- 379     	LGOTO		TXRX_FUNC_EXIT
                                    0-0380      
                 98                 0- 381      RX_FUNC:
       98 05DA                      0- 382     	INCR		rx_outtimes,1
       99 015A                      0- 383     	MOVR		rx_outtimes,0		
       9A 2704                      0- 384     	SUBIA		4					
       9B 0803                      0- 385     	BTRSS		CF
       9C 1CC7                      0- 386     	BCR			txrx_flag
                                    0-0387      
                                    0-0388      
       9D 2AA5                      0- 389     	LCALL		REC_RF_DATA
                                    0-0390      	
       9E 0B32                      0- 391     	BTRSS		F_RF_RX_OK
       9F 38BA                      0- 392     	LGOTO		TXRX_FUNC_EXIT
                                    0-0393      	
       A0 0126                      0- 394     	MOVR		R_RF_SEND_6,0
       A1 24AA                      0- 395     	XORIA		0XAA			;接收配对标志 0XAA
       A2 0903                      0- 396     	BTRSS		STATUS,2
       A3 38BA                      0- 397     	LGOTO		TXRX_FUNC_EXIT
                                    0-0398      
       A4 0120                      0- 399     	MOVR		R_RF_SEND_0,0
       A5 1249                      0- 400     	XORAR		rollingcode_0,0
       A6 0903                      0- 401     	BTRSS		ZF
       A7 38BA                      0- 402     	LGOTO		TXRX_FUNC_EXIT
                                    0-0403      	
       A8 0121                      0- 404     	MOVR		R_RF_SEND_1,0
       A9 124A                      0- 405     	XORAR		rollingcode_1,0
       AA 0903                      0- 406     	BTRSS		ZF
       AB 38BA                      0- 407     	LGOTO		TXRX_FUNC_EXIT
                                    0-0408      	
       AC 0122                      0- 409     	MOVR		R_RF_SEND_2,0
       AD 124B                      0- 410     	XORAR		rollingcode_2,0
       AE 0903                      0- 411     	BTRSS		ZF
       AF 38BA                      0- 412     	LGOTO		TXRX_FUNC_EXIT
                                    0-0413      
       B0 0123                      0- 414     	MOVR		R_RF_SEND_3,0			;接受端的滚动码
       B1 00CD                      0- 415     	MOVAR		RXcode_0
       B2 0124                      0- 416     	MOVR		R_RF_SEND_4,0
       B3 00CE                      0- 417     	MOVAR		RXcode_1
       B4 0125                      0- 418     	MOVR		R_RF_SEND_5,0
       B5 00CF                      0- 419     	MOVAR		RXcode_2
                                    0-0420      
       B6 1847                      0- 421     	BSR			pair_flag		;tx_flag
       B7 02D8                      0- 422     	CLRR		SLEEP_CNT1
       B8 02D9                      0- 423     	CLRR		SLEEP_CNT2
       B9 1CC7                      0- 424     	BCR			txrx_flag
                                    0-0425      	
                 BA                 0- 426      TXRX_FUNC_EXIT:
       BA 0010                      0- 427     	RET	      		
                                    0-0428      			
                                    0-0429      ;======================================================================
                                    0-0430      ;0   1   2    3     4      5      6      7 
                                    0-0431      ;F	 B	 L	  R		PEN
                                    0-0432      ;======================================================================
                 BB                 0- 433      KEY_FUNC:
       BB 02D2                      0- 434     		CLRR		temp_x
                                    0-0435      
       BC 28CD                      0- 436     		LCALL		FB_FUNC
       BD 28D9                      0- 437     		LCALL		LR_FUNC
                                    0-0438      
       BE 0906                      0- 439     		BTRSS		PEN_PIN
       BF 1A52                      0- 440     		BSR			temp_x,4
                                    0-0441      		
       C0 0152                      0- 442     		MOVR		temp_x,0
       C1 1253                      0- 443     		XORAR		LAST_TEMP_X,0
       C2 0903                      0- 444     		BTRSS		ZF
       C3 38EE                      0- 445     		LGOTO		EER_KEY
                                    0-0446      		
       C4 05D4                      0- 447     		INCR		KEY_CNT,1
       C5 0154                      0- 448     		MOVR		KEY_CNT,0
       C6 2703                      0- 449     		SUBIA		3
       C7 0C03                      0- 450     		BTRSC		STATUS,0
       C8 38F2                      0- 451     		LGOTO		KEY_FUNC_EXIT
       C9 06D4                      0- 452     		DECR		KEY_CNT,1
                                    0-0453      		
       CA 0152                      0- 454     		MOVR		temp_x,0
       CB 00D5                      0- 455     		MOVAR		key_cmd1
       CC 38F2                      0- 456     		LGOTO		KEY_FUNC_EXIT
                                    0-0457      ;------------------------------------------------------------------------------
                 CD                 0- 458      FB_FUNC:
       CD 1985                      0- 459     		BSR			COM_PIN
       CE 28E5                      0- 460     		LCALL		DELAY_5US
       CF 0905                      0- 461     		BTRSS		FB_PIN
       D0 38D7                      0- 462     		LGOTO		HAVE_F_KEY
       D1 1D85                      0- 463     		BCR			COM_PIN
       D2 28E5                      0- 464     		LCALL		DELAY_5US
       D3 0D05                      0- 465     		BTRSC		FB_PIN
       D4 0010                      0- 466     		RET
                 D5                 0- 467      HAVE_B_KEY:
       D5 18D2                      0- 468     		BSR			temp_x,1
       D6 0010                      0- 469     		RET
                 D7                 0- 470      HAVE_F_KEY:
       D7 1852                      0- 471     		BSR			temp_x,0
       D8 0010                      0- 472     		RET
                                    0-0473      ;------------------------------------------------------------------------------
                 D9                 0- 474      LR_FUNC:
       D9 1985                      0- 475     		BSR			COM_PIN
       DA 28E5                      0- 476     		LCALL		DELAY_5US
       DB 0A05                      0- 477     		BTRSS		LR_PIN
       DC 38E3                      0- 478     		LGOTO		HAVE_L_KEY
       DD 1D85                      0- 479     		BCR			COM_PIN
       DE 28E5                      0- 480     		LCALL		DELAY_5US
       DF 0E05                      0- 481     		BTRSC		LR_PIN
       E0 0010                      0- 482     		RET
                 E1                 0- 483      HAVE_R_KEY:
       E1 19D2                      0- 484     		BSR			temp_x,3
       E2 0010                      0- 485     		RET
                 E3                 0- 486      HAVE_L_KEY:
       E3 1952                      0- 487     		BSR			temp_x,2
       E4 0010                      0- 488     		RET
                                    0-0489      ;------------------------------------------------------------------------------
                 E5                 0- 490      DELAY_5US:
       E5 0000                      0- 491     		NOP
       E6 0000                      0- 492     		NOP
       E7 0000                      0- 493     		NOP
       E8 0000                      0- 494     		NOP
       E9 0000                      0- 495     		NOP
       EA 0000                      0- 496     		NOP
       EB 0000                      0- 497     		NOP
       EC 0000                      0- 498     		NOP
       ED 0010                      0- 499     		RET		
                                    0-0500      ;------------------------------------------------------------------------------		
                 EE                 0- 501      EER_KEY:
       EE 0152                      0- 502     		MOVR		temp_x,0
       EF 00D3                      0- 503     		MOVAR		LAST_TEMP_X
       F0 02D4                      0- 504     		CLRR		KEY_CNT
       F1 38F2                      0- 505     		LGOTO		KEY_FUNC_EXIT
                                    0-0506      ;------------------------------------------------------------------------------		
                 F2                 0- 507      KEY_FUNC_EXIT:
       F2 0010                      0- 508     		RET		
                                    0-0509      		
                                    0-0510      
                                    0-0511      ;------------------------------------------------------------------------------
                                    0-0512      ;------------------------------------------------------------------------------
                 F3                 0- 513      SLEEP_FUNC:
       F3 0847                      0- 514     		BTRSS	pair_flag		;没有匹配上，出去继续循环等待
       F4 3903                      0- 515     		LGOTO	SLEEP_FUNC_EXIT
                                    0-0516      		
       F5 0155                      0- 517     		MOVR	key_cmd1,0
       F6 0903                      0- 518     		BTRSS	ZF
       F7 02DB                      0- 519     		CLRR	SLEEP_CNT
       F8 0156                      0- 520     		MOVR	key_cmd2,0
       F9 0903                      0- 521     		BTRSS	ZF
       FA 02DB                      0- 522     		CLRR	SLEEP_CNT
                                    0-0523      		
       FB 05DB                      0- 524     		INCR	SLEEP_CNT,1
       FC 015B                      0- 525     		MOVR	SLEEP_CNT,0
       FD 27FA                      0- 526     		SUBIA	250					;4MS*100=400MS
       FE 0C03                      0- 527     		BTRSC	CF
       FF 0010                      0- 528     		RET
      100 02DB                      0- 529     		CLRR	SLEEP_CNT
      101 1BC7                      0- 530     		BSR		SLEEP_FLAG
      102 3903                      0- 531     		LGOTO	SLEEP_FUNC_EXIT
                                    0-0532      		
                103                 0- 533      SLEEP_FUNC_EXIT:
      103 0010                      0- 534     		RET	
                                    0-0535      
                                    0-0536      ;------------------------------------------------------------------------------	
                                    0-0537      ;------------------------------------------------------------------------------     
                104                 0- 538      SYS_SLEEP_FUNC:
      104 0BC7                      0- 539     		BTRSS	SLEEP_FLAG
      105 0010                      0- 540     		RET
                                    0-0541      		
      106 2A63                      0- 542     		LCALL	RF_MODULE_SLEEP
                                    0-0543      		
      107 02DB                      0- 544     		CLRR	SLEEP_CNT
      108 02D8                      0- 545     		CLRR	SLEEP_CNT1
      109 02D9                      0- 546     		CLRR	SLEEP_CNT2
      10A 1FC7                      0- 547     		BCR		SLEEP_FLAG
                                    0-0548      		
      10B 2933                      0- 549     		LCALL	GPIO_FUNC
                                    0-0550      		
                                    0-0551      	
      10C 2148                      0- 552     		MOVIA	0X48		;0100 1000
      10D 0088                      0- 553     		MOVAR	PCON
                                    0-0554      		
      10E 2102                      0- 555     		MOVIA	0X02		;0000 0010
      10F 008E                      0- 556     		MOVAR	INTE
      110 2100                      0- 557     		MOVIA	0X00
      111 008F                      0- 558     		MOVAR	INTF
                                    0-0559      		
      112 0001                      0- 560     		sleep
      113 0000                      0- 561     		nop
      114 0000                      0- 562     		nop
      115 0000                      0- 563     		nop       
                                    0-0564      
      116 2933                      0- 565     		LCALL		GPIO_FUNC	
      117 2927                      0- 566     		LCALL		TIME_INIT
      118 29E7                      0- 567     		LCALL		INIT_RF
      119 0010                      0- 568     		RET
                                    0-0569      		
                                    0-0570      ;--------------- Interrupt Service Routine --------------------------------
                                    0-0571      ;--------------------------------------------------------------------------
                11A                 0- 572      V_INT:
                                    0-0573      		; Interrupt Service - User program area
                                    0-0574      		; ...
                                    0-0575      		; ...
      11A 00FF                      0- 576     		MOVAR  			R_W_TMP
      11B 1503                      0- 577     		SWAPR			STATUS, TO_A
      11C 00FE                      0- 578     		MOVAR  			R_S_TMP
                                    0-0579      		
      11D 2100                      0- 580     		MOVIA			0
      11E 008F                      0- 581     		MOVAR			INTF
                                    0-0582      		
      11F 2106                      0- 583     		MOVIA			0X06
      120 0081                      0- 584     		MOVAR			TMR0		;250*16US=4MS
                                    0-0585      		
      121 1846                      0- 586     		BSR				DELAY_8MS_FLAG
                                    0-0587      		
                122                 0- 588      EXIT_INT:
      122 157E                      0- 589     		SWAPR			R_S_TMP, TO_A
      123 0083                      0- 590     		MOVAR  			STATUS
      124 15FF                      0- 591     		SWAPR			R_W_TMP, TO_R
      125 157F                      0- 592     		SWAPR			R_W_TMP, TO_A	
                                    0-0593      		; Clear Interrupt Flag
      126 0011                      0- 594     		retie								; Return from interrupt and enable interrupt globally
                                    0-0595      
                                    0-0596      ;--------------------------------------------------------------------------
                                    0-0597      ;--------------------------------------------------------------------------
                127                 0- 598      TIME_INIT:
                                    0-0599      	;0	  1	  2	  3	   4	  5	     6	   7
                                    0-0600      	;/2  /4  /8  /16   /32   /64   /128    /256
      127 2106                      0- 601     	movia		6		;8/128=0.0625MHZ,16US,	16US*2T=32US
      128 0003                      0- 602     	T0MD					;TIME0的分频器	;10110101
      129 2101                      0- 603     	movia		0x01
      12A 000F                      0- 604     	IOST		PCON1		;0000_0001	开启定时器TIME0,开启git
      12B 2106                      0- 605     	MOVIA		0X06
      12C 0081                      0- 606     	MOVAR		TMR0
                                    0-0607      	
      12D 2101                      0- 608     	movia		0x01
      12E 008E                      0- 609     	movar		INTE		;中断控制	0000_0000
      12F 2100                      0- 610     	movia		0x00
      130 008F                      0- 611     	movar		INTF		;中断标志位
      131 028F                      0- 612     	clrr		INTF		;（ 中断标志寄存器 ）
      132 0010                      0- 613     	RET	
                                    0-0614      
                                    0-0615      ;--------------------------------------------------------------------------
                                    0-0616      ;--------------------------------------------------------------------------
                133                 0- 617      GPIO_FUNC:
      133 2114                      0- 618     	movia		D_Iosta		
      134 0005                      0- 619     	IOST		IOSTA		;输入输出 (1:Input/0:Output)
      135 2100                      0- 620     	movia		D_PORTA		
      136 0085                      0- 621     	movar		PORTA		
                                    0-0622      	
      137 2114                      0- 623     	movia		D_Iostb			
      138 0006                      0- 624     	IOST		IOSTB		;输入输出 (1:Input/0:Output)
      139 2100                      0- 625     	movia		D_PORTB		
      13A 0086                      0- 626     	movar		PORTB		
                                    0-0627      	
      13B 21EB                      0- 628     	movia		D_PHA		
      13C 0009                      0- 629     	IOST		APHCON		;PA上拉 
      13D 21EB                      0- 630     	movia		D_PHB		
      13E 008C                      0- 631     	movar		BPHCON		;PB上拉 
                                    0-0632      	
      13F 21FF                      0- 633     	movia		D_PDCon
      140 008B                      0- 634     	movar		ABPLCON		;下拉
                                    0-0635      	
      141 21FF                      0- 636     	movia		D_WakeUp_A
      142 0095                      0- 637     	movar		AWUCON		;PA唤醒	
      143 21FF                      0- 638     	movia		D_WakeUp_B
      144 0089                      0- 639     	movar		BWUCON		;PB唤醒	
      145 2100                      0- 640     	movia		D_BODCON
      146 000C                      0- 641     	IOST		BODCON		;开漏
                                    0-0642      	
                                    0-0643      	
                                    0-0644      	;LVR(低电复位)		LVD(11阶低电压检测电路)
      147 21E8                      0- 645     	movia		D_POWER		;0x88		;10001000
      148 0088                      0- 646     	movar		PCON		;WDTEN,EIS,LVD,LVR,
      149 0010                      0- 647     	ret	
                                    0-0648      ;=================================================================
                14A                 0- 649      RAM_INIT:
      14A 2120                      0- 650     		MOVIA		0X20
      14B 0084                      0- 651     		MOVAR		FSR
                14C                 0- 652      RAM_CLR_LOOP:
      14C 0280                      0- 653     		CLRR		INDF
      14D 217F                      0- 654     		MOVIA		0X7F
      14E 1204                      0- 655     		XORAR		FSR,TO_A
      14F 0D03                      0- 656     		BTRSC		STATUS,Z_B
      150 3953                      0- 657     		LGOTO		RAM_CLR_LOOP_EXIT
      151 0584                      0- 658     		INCR		FSR,TO_R
      152 394C                      0- 659     		LGOTO		RAM_CLR_LOOP
                153                 0- 660      RAM_CLR_LOOP_EXIT:	
      153 0010                      0- 661     		RET
                                    0-0662      
                                    0-0663      ;;#################################################################
                                    0-0664      ;;DELAY MS
                                    0-0665      ;;#################################################################
                154                 0- 666      DELAY_200MS:
      154 21C8                      0- 667     		MOVIA 		200
      155 3960                      0- 668     		LGOTO		DELAY_MS_BASE
                156                 0- 669      DELAY_100MS:
      156 2164                      0- 670     		MOVIA 		100
      157 3960                      0- 671     		LGOTO		DELAY_MS_BASE
                158                 0- 672      DELAY_50MS:
      158 2132                      0- 673     		MOVIA 		50
      159 3960                      0- 674     		LGOTO		DELAY_MS_BASE
                15A                 0- 675      DELAY_20MS:
      15A 2114                      0- 676     		MOVIA 		20
      15B 3960                      0- 677     		LGOTO		DELAY_MS_BASE
                15C                 0- 678      DELAY_10MS:
      15C 210A                      0- 679     		MOVIA 		10
      15D 3960                      0- 680     		LGOTO		DELAY_MS_BASE
                15E                 0- 681      DELAY_2MS:
      15E 2102                      0- 682     		MOVIA 		2
      15F 3960                      0- 683     		LGOTO		DELAY_MS_BASE
                160                 0- 684      DELAY_MS_BASE:
      160 00BC                      0- 685     		MOVAR  		R_DDL1
                161                 0- 686      DELAY_MS_LOOP:
      161 0002                      0- 687     		CLRWDT
      162 2966                      0- 688     		LCALL		DELAY_1MS
      163 17BC                      0- 689     		DECRSZ		R_DDL1, TO_R
      164 3961                      0- 690     		LGOTO		DELAY_MS_LOOP
      165 0010                      0- 691     		RET
                                    0-0692      ;;#################################################################
                                    0-0693      ;;DELAY US
                                    0-0694      ;;#################################################################
                166                 0- 695      DELAY_1MS:
      166 2164                      0- 696     		MOVIA 		100
      167 3976                      0- 697     		LGOTO		DELAY_US_BASE
                168                 0- 698      DELAY_750US:
      168 214B                      0- 699     		MOVIA 		75
      169 3976                      0- 700     		LGOTO		DELAY_US_BASE
                16A                 0- 701      DELAY_500US:
      16A 2132                      0- 702     		MOVIA 		50
      16B 3976                      0- 703     		LGOTO		DELAY_US_BASE
                16C                 0- 704      DELAY_250US:
      16C 2119                      0- 705     		MOVIA 		25
      16D 3976                      0- 706     		LGOTO		DELAY_US_BASE
                16E                 0- 707      DELAY_100US:
      16E 210A                      0- 708     		MOVIA 		10
      16F 3976                      0- 709     		LGOTO		DELAY_US_BASE
                170                 0- 710      DELAY_50US:
      170 2105                      0- 711     		MOVIA 		5
      171 3976                      0- 712     		LGOTO		DELAY_US_BASE
                172                 0- 713      DELAY_40US:
      172 2104                      0- 714     		MOVIA 		4
      173 3976                      0- 715     		LGOTO		DELAY_US_BASE
                174                 0- 716      DELAY_10US:
      174 2101                      0- 717     		MOVIA 		1
      175 3976                      0- 718     		LGOTO		DELAY_US_BASE
                176                 0- 719      DELAY_US_BASE:
      176 00BB                      0- 720     		MOVAR  		R_DDL0
                177                 0- 721      DELAY_XX_US_LOOP:			;40US
      177 0002                      0- 722     		CLRWDT
      178 3979                      0- 723     		LGOTO		$+1
      179 397A                      0- 724     		LGOTO		$+1
      17A 397B                      0- 725     		LGOTO		$+1
      17B 397C                      0- 726     		LGOTO		$+1
      17C 397D                      0- 727     		LGOTO		$+1
      17D 397E                      0- 728     		LGOTO		$+1
      17E 397F                      0- 729     		LGOTO		$+1
      17F 3980                      0- 730     		LGOTO		$+1
      180 17BB                      0- 731     		DECRSZ		R_DDL0, TO_R
      181 3977                      0- 732     		LGOTO		DELAY_XX_US_LOOP
      182 0010                      0- 733     		RET	
                                    0-0734      ;------------------------------------------------------------------------------
                                    0-0735      ;获取滚动码
                                    0-0736      ;------------------------------------------------------------------------------
                183                 0- 737      Get_rolling_code: 
      183 2100                      0- 738     		MOVIA		0X00
      184 0047                      0- 739     		SFUN		TBHP
      185 210E                      0- 740     		MOVIA		0X0E
      186 0211                      0- 741     		TABLEA
      187 00C9                      0- 742     		movar       rollingcode_0
      188 0068                      0- 743     		SFUNR		TBHD
      189 2203                      0- 744     		ANDIA		0X03
      18A 00CC                      0- 745     		MOVAR		rollingcode_3
                                    0-0746      		
                                    0-0747      		
      18B 2100                      0- 748     		MOVIA		0X00
      18C 0047                      0- 749     		SFUN		TBHP
      18D 210F                      0- 750     		MOVIA		0X0F
      18E 0211                      0- 751     		TABLEA
      18F 00CA                      0- 752     		movar      	rollingcode_1
                                    0-0753      		
      190 0068                      0- 754     		SFUNR		TBHD
      191 2203                      0- 755     		ANDIA		0X03
      192 00CB                      0- 756     		movar       rollingcode_2
                                    0-0757      		
                                    0-0758      		
      193 1C03                      0- 759     		BCR 	CF
      194 14CB                      0- 760     		RLR 	rollingcode_2,1
      195 14CB                      0- 761     		RLR 	rollingcode_2,1
      196 0FCA                      0- 762     		btrsc 	rollingcode_1,7
      197 18CB                      0- 763     		bsr 	rollingcode_2,1
      198 0F4A                      0- 764     		btrsc 	rollingcode_1,6
      199 184B                      0- 765     		bsr 	rollingcode_2,0
                                    0-0766      		 
      19A 1C03                      0- 767     		BCR 	CF
      19B 14CA                      0- 768     		RLR 	rollingcode_1,1
      19C 1C03                      0- 769     		BCR 	CF
      19D 14CA                      0- 770     		RLR 	rollingcode_1,1
      19E 0CCC                      0- 771     		btrsc 	rollingcode_3,1
                                    0-0772      
      19F 18CA                      0- 773     		bsr 	rollingcode_1,1
      1A0 08CC                      0- 774     		btrss 	rollingcode_3,1
      1A1 1CCA                      0- 775     		BCR 	rollingcode_1,1
      1A2 0C4C                      0- 776     		btrsc 	rollingcode_3,0
      1A3 184A                      0- 777     		bsr 	rollingcode_1,0
      1A4 084C                      0- 778     		btrss 	rollingcode_3,0
      1A5 1C4A                      0- 779     		BCR 	rollingcode_1,0
                                    0-0780      		
      1A6 0010                      0- 781     		RET		
                                    0-0782      		
                                    0-0783      ;;******************************************************************
                                    0-0784      #INCLUDE		"WL2400.asm"
                                    2-0001      ;;##############################################################################
                                    2-0002      ;;File description
                                    2-0003      ;;This file includes the subroutines about RF config and setting
                                    2-0004      ;;Date:2013/12/10
                                    2-0005      ;;##############################################################################
                                    2-0006      ;;/******************CONTROL  REGISTER*******************/
                                    2-0007      #define CFG_TOP					(0X00)
                                    2-0008      #define	EN_AA					(0X01)
                                    2-0009      #define	EN_RXADDR				(0X02)
                                    2-0010      #define	SETUP_AW				(0X03)
                                    2-0011      #define	SETUP_RETR				(0X04)
                                    2-0012      #define	RF_CH					(0X05)
                                    2-0013      #define	SETUP_RF				(0X06)
                                    2-0014      #define	RF_STATUS				(0X07)
                                    2-0015      #define	OBSERVE_TX				(0X08)
                                    2-0016      #define	RSSI					(0X09)
                                    2-0017      #define	RX_ADDR_P0				(0X0A)
                                    2-0018      #define	RX_ADDR_P1				(0X0B)
                                    2-0019      #define	RX_ADDR_P2				(0X2)
                                    2-0020      #define	RX_ADDR_P3				(0X3)
                                    2-0021      #define	RX_ADDR_P4				(0X4)
                                    2-0022      #define	RX_ADDR_P5				(0X5)
                                    2-0023      #define	RX_ADDR_P2TOP5			(0X0C)
                                    2-0024      #define	BER_RESULT				(0X0D)
                                    2-0025      #define	AGC_SETTING				(0X0E)
                                    2-0026      #define	PGA_SETTING				(0X0F)
                                    2-0027      #define	TX_ADDR					(0X10)
                                    2-0028      #define	RX_PW_PX				(0X11)
                                    2-0029      #define	ANALOG_CFG0				(0X12)
                                    2-0030      #define	ANALOG_CFG1				(0X13)
                                    2-0031      #define	ANALOG_CFG2				(0X14)
                                    2-0032      #define	ANALOG_CFG3				(0X15)
                                    2-0033      #define	STATUS_FIFO				(0X17)
                                    2-0034      #define	RSSIREC					(0X18)
                                    2-0035      #define	TXPROC_CFG				(0X19)
                                    2-0036      #define	RXPROC_CFG				(0X1A)
                                    2-0037      #define	DYNPD					(0X1C)
                                    2-0038      #define	FEATURE					(0X1D)
                                    2-0039      #define	RAMP_CFG				(0X1E)
                                    2-0040      
                                    2-0041      #define R_REG					0x00//@
                                    2-0042      #define	R_REGISTER				000H                            				;;SPI read RF data
                                    2-0043      #define W_REG 					0x20//@
                                    2-0044      #define	W_REGISTER				020H                            				;;SPI write RF data
                                    2-0045      #define R_RX_PLOAD 				0x61//@
                                    2-0046      #define W_TX_PLOAD				0xA0//@
                                    2-0047      #define FLUSH_TX				0xE1//@
                                    2-0048      #define FLUSH_RX				0xE2//@
                                    2-0049      #define REUSE_TX_PL				0xE3//@
                                    2-0050      #define R_RX_PL_WID				0x60//@
                                    2-0051      #define W_ACK_PLOAD				0xA8//@
                                    2-0052      #define W_TX_PLOAD_NOACK		0xB0//@
                                    2-0053      #define CMD_NOP					0xFF//@
                                    2-0054      
                                    2-0055      ;/* CFG_TOP register set */
                                    2-0056      #define CE_SEL              	0x80
                                    2-0057      #define WHITEN_OPT          	0x10
                                    2-0058      #define IF_2M_SEL           	0x04//@
                                    2-0059      #define BPS_IDLE_RST			0x02//@
                                    2-0060      #define BPS_GATED_CLK			0x01//@
                                    2-0061      #define	LOOPBACK_EN				0x80//@
                                    2-0062      #define MASK_RX_DR				0x40//@
                                    2-0063      #define MASK_TX_DS				0x20//@
                                    2-0064      #define MASK_MAX_RT				0x10//@
                                    2-0065      #define EN_CRC					0x08//@
                                    2-0066      #define CRC_2B					0x04//@
                                    2-0067      #define PWR_ON					0x02//@
                                    2-0068      #define RX_ON					0x01//@
                                    2-0069      
                                    2-0070      ;/* EN_AA Enable/Disable Auto ACK */
                                    2-0071      #define ENAA_P5					0x20//@
                                    2-0072      #define ENAA_P4					0x10//@
                                    2-0073      #define ENAA_P3					0x08//@
                                    2-0074      #define ENAA_P2					0x04//@
                                    2-0075      #define ENAA_P1					0x02//@
                                    2-0076      #define ENAA_P0					0x01//@
                                    2-0077      
                                    2-0078      ;/* EN_RXADDR Enable/Disable RX pipe number */
                                    2-0079      #define ENRX_P5					0x20//@
                                    2-0080      #define ENRX_P4					0x10//@
                                    2-0081      #define ENRX_P3					0x08//@
                                    2-0082      #define ENRX_P2					0x04//@
                                    2-0083      #define ENRX_P1					0x02//@
                                    2-0084      #define ENRX_P0					0x01//@
                                    2-0085      
                                    2-0086      #define TX_ADDR_3BYTE			(0x1 << 2)//@
                                    2-0087      #define TX_ADDR_4BYTE			(0x2 << 2)//@
                                    2-0088      #define TX_ADDR_5BYTE			(0x3 << 2)//@
                                    2-0089      
                                    2-0090      #define RX_ADDR_3BYTE			(0x1)//@
                                    2-0091      #define RX_ADDR_4BYTE			(0x2)//@
                                    2-0092      #define RX_ADDR_5BYTE			(0x3)//@
                                    2-0093      
                                    2-0094      ;/* STATUS Interrupt status */
                                    2-0095      #define XC_RX_DR    			(0x1 << 6)//@
                                    2-0096      #define XC_TX_DS    			(0x1 << 5)//@
                                    2-0097      #define XC_MAX_RT   			(0x1 << 4)//@
                                    2-0098      
                                    2-0099      ;/* FIFO Status */
                                    2-0100      #define TX_REUSE        		(0x1 << 6)//@
                                    2-0101      #define TX_FULL            		(0x1 << 5)//@
                                    2-0102      #define TX_EMPTY        		(0x1 << 4)//@
                                    2-0103      #define RX_FULL            		(0x2)//@
                                    2-0104      #define RX_EMPTY        		(0x1)//@
                                    2-0105      ;;;;;;;;;;;;;;;;;;;;;;;;;;RF parameter;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                    2-0106      ;;1M只能用0db及以下的功率。
                                    2-0107      ;;250K的可以用全功率
                                    2-0108      #define	C_RF10dBm               03FH		;; 10dBm
                                    2-0109      #define	C_RF9dBm                038H		;; 9dbm
                                    2-0110      #define	C_RF8dBm                034H		;; 8dbm
                                    2-0111      #define	C_RF7dBm                030H		;; 7dbm
                                    2-0112      #define	C_RF6dBm                02CH		;; 6dbm
                                    2-0113      #define	C_RF5dBm                028H		;; 5dbm
                                    2-0114      #define	C_RF4dBm                024H		;; 4dbm
                                    2-0115      #define	C_RF3dBm                020H		;; 3dbm
                                    2-0116      #define	C_RF2dBm                014H		;; 2dbm
                                    2-0117      #define	C_RF0dBm                010H		;; 0dBm
                                    2-0118      #define	C_RF_2dBm               00CH		;; -2dBm
                                    2-0119      #define	C_RF_6dBm               008H		;; -6dBm
                                    2-0120      #define	C_RF_12dBm              004H		;; -12dBm
                                    2-0121      #define	C_RF_18dBm              002H		;; -18dBm
                                    2-0122      #define	C_RF_24dBm              001H		;; -24dBm
                                    2-0123      
                                    2-0124      #define C_DR_1M                 002H											;;通信速率 1Mbps
                                    2-0125      #define C_DR_250K               022H											;;通信速率 250Kbps
                                    2-0126      
                                    2-0127      #define	MAX_RT					BIT_4
                                    2-0128      #define	TX_DS					BIT_5
                                    2-0129      #define	RX_DR					BIT_6
                                    2-0130      #define	RF_STATE_BIT			(BIT_4|BIT_5|BIT_6)
                                    2-0131      ;;---------------------------------------------------------------
                                    2-0132      ;;------------------------------------------------
                                    2-0133      ;;------------------------------------------------
                                    2-0134      #define RF_PACKET_SIZE			9
                                    2-0135      #define ADD_WIDTH				5
                                    2-0136      #define	C_CHN_INDEX				4
                                    2-0137      ;==========================================================
                                    2-0138      ;;------------------------------------------------
                                    2-0139      ;;;软件拉高CE	
                                    2-0140      ;;------------------------------------------------
                1A7                 2- 141      RF_CE_HIGH:
      1A7 2100                      2- 142     		MOVIA		(R_REGISTER+CFG_TOP)
      1A8 00B0                      2- 143     		MOVAR		R_SPI_ADR
      1A9 2102                      2- 144     		MOVIA		2
      1AA 00B1                      2- 145     		MOVAR		R_RF_DATA_LEN
      1AB 2B1B                      2- 146     		LCALL		RF_TEMP_R
      1AC 1B2E                      2- 147     		BSR			R_SPI_TEMP1, 6
      1AD 2120                      2- 148     		MOVIA		(W_REGISTER+CFG_TOP)
      1AE 00B0                      2- 149     		MOVAR		R_SPI_ADR
      1AF 2102                      2- 150     		MOVIA		2
      1B0 00B1                      2- 151     		MOVAR		R_RF_DATA_LEN
      1B1 2B2C                      2- 152     		LCALL		RF_TEMP_W
      1B2 0010                      2- 153     		RET
                                    2-0154      ;;------------------------------------------------	
                                    2-0155      ;;;软件拉低CE	
                                    2-0156      ;;------------------------------------------------	
                1B3                 2- 157      RF_CE_LOW:
      1B3 2100                      2- 158     		MOVIA		(R_REGISTER+CFG_TOP)
      1B4 00B0                      2- 159     		MOVAR		R_SPI_ADR
      1B5 2102                      2- 160     		MOVIA		2
      1B6 00B1                      2- 161     		MOVAR		R_RF_DATA_LEN
      1B7 2B1B                      2- 162     		LCALL		RF_TEMP_R
      1B8 1F2E                      2- 163     		BCR			R_SPI_TEMP1, 6
      1B9 2120                      2- 164     		MOVIA		(W_REGISTER+CFG_TOP)
      1BA 00B0                      2- 165     		MOVAR		R_SPI_ADR
      1BB 2102                      2- 166     		MOVIA		2
      1BC 00B1                      2- 167     		MOVAR		R_RF_DATA_LEN
      1BD 2B2C                      2- 168     		LCALL		RF_TEMP_W
      1BE 0010                      2- 169     		RET
                                    2-0170      ;;------------------------------------------------	
                                    2-0171      ;;	清 TX FIFO   清 RX FIFO 
                                    2-0172      ;;------------------------------------------------
                1BF                 2- 173      RF_CLEAR_STATUS:
      1BF 21E1                      2- 174     		MOVIA		FLUSH_TX		;清 TX FIFO
      1C0 00B0                      2- 175     		MOVAR		R_SPI_ADR
      1C1 21FF                      2- 176     		MOVIA		CMD_NOP
      1C2 00B7                      2- 177     		MOVAR  		R_SPI_DATA
      1C3 2B3C                      2- 178     		LCALL 		SPI_WRITE
                                    2-0179      
      1C4 21E2                      2- 180     		MOVIA		FLUSH_RX		;清 RX FIFO
      1C5 00B0                      2- 181     		MOVAR		R_SPI_ADR
      1C6 21FF                      2- 182     		MOVIA		CMD_NOP
      1C7 00B7                      2- 183     		MOVAR  		R_SPI_DATA
      1C8 2B3C                      2- 184     		LCALL 		SPI_WRITE
                                    2-0185      
      1C9 2127                      2- 186     		MOVIA		(W_REGISTER+RF_STATUS)
      1CA 00B0                      2- 187     		MOVAR		R_SPI_ADR
      1CB 2170                      2- 188     		MOVIA		070H
      1CC 00B7                      2- 189     		MOVAR		R_SPI_DATA
      1CD 2B3C                      2- 190     		LCALL		SPI_WRITE
      1CE 0010                      2- 191     		RET		
                                    2-0192      ;;------------------------------------------------
                                    2-0193      ;跳频
                                    2-0194      ;;------------------------------------------------	
                1CF                 2- 195      RF_SET_CHANNEL:
      1CF 2560                      2- 196     		ADDIA		96				;A+2400=
      1D0 00AD                      2- 197     		MOVAR		R_SPI_TEMP0
      1D1 2109                      2- 198     		MOVIA		9				;2304
      1D2 00AE                      2- 199     		MOVAR		R_SPI_TEMP1
                                    2-0200      
      1D3 2106                      2- 201     		MOVIA		06H				;; AFC置位
      1D4 00B7                      2- 202     		MOVAR		R_SPI_DATA
      1D5 2132                      2- 203     		MOVIA		(W_REGISTER+ANALOG_CFG0)
      1D6 00B0                      2- 204     		MOVAR		R_SPI_ADR
      1D7 2B3C                      2- 205     		LCALL 		SPI_WRITE
                                    2-0206      		
      1D8 210E                      2- 207     		MOVIA		0EH			;; 使能AFC工作
      1D9 00B7                      2- 208     		MOVAR		R_SPI_DATA
      1DA 2132                      2- 209     		MOVIA		(W_REGISTER+ANALOG_CFG0)
      1DB 00B0                      2- 210     		MOVAR		R_SPI_ADR
      1DC 2B3C                      2- 211     		LCALL 		SPI_WRITE
                                    2-0212      
      1DD 2125                      2- 213     		MOVIA		(W_REGISTER+RF_CH)	;; 写入频点
      1DE 00B0                      2- 214     		MOVAR		R_SPI_ADR
      1DF 2102                      2- 215     		MOVIA		2
      1E0 00B1                      2- 216     		MOVAR		R_RF_DATA_LEN
      1E1 2B2C                      2- 217     		LCALL 		RF_TEMP_W
                                    2-0218      		
      1E2 1AAE                      2- 219     		BSR			R_SPI_TEMP1, 5	;; AFC锁定
      1E3 2102                      2- 220     		MOVIA		2
      1E4 00B1                      2- 221     		MOVAR		R_RF_DATA_LEN
      1E5 2B2C                      2- 222     		LCALL		RF_TEMP_W
      1E6 0010                      2- 223     		RET
                                    2-0224      		
                                    2-0225      
                                    2-0226      ; ;==========================================================
                                    2-0227      ;;RF发射接收地址设置
                                    2-0228      ; ;==========================================================
                                    2-0229      ; RF_SET_ID_ADR_RX:
                                    2-0230      		; MOVIA		(W_REGISTER + TX_ADDR)
                                    2-0231      		; MOVAR		R_SPI_ADR
                                    2-0232              ; LCALL		RF_SET_RX_ID 
                                    2-0233      		; LCALL		RF_SPI_ADD_SET
                                    2-0234      		; MOVIA		(W_REGISTER + RX_ADDR_P0)
                                    2-0235      		; MOVAR		R_SPI_ADR
                                    2-0236      		; LCALL		RF_SET_RX_ID      
                                    2-0237      		; LGOTO		RF_SPI_ADD_SET
                                    2-0238      ; RF_SET_TX_ID:  
                                    2-0239      		; MOVIA		0XCC
                                    2-0240      		; MOVAR		R_RF_SEND_0
                                    2-0241      		; MOVR		R_TX_ADDR0, TO_A
                                    2-0242      		; MOVAR		R_RF_SEND_1
                                    2-0243      		; MOVR		R_TX_ADDR1, TO_A
                                    2-0244      		; MOVAR		R_RF_SEND_2
                                    2-0245      		; MOVR		R_TX_ADDR2, TO_A
                                    2-0246      		; MOVAR		R_RF_SEND_3
                                    2-0247      		; MOVIA		0XCC
                                    2-0248      		; MOVAR		R_RF_SEND_4
                                    2-0249              ; RET      
                                    2-0250      ; RF_SET_ID_ADR:
                                    2-0251      		; MOVIA		(W_REGISTER + TX_ADDR)
                                    2-0252      		; MOVAR		R_SPI_ADR
                                    2-0253      		; LCALL		RF_SET_TX_ID
                                    2-0254      		; LCALL		RF_SPI_ADD_SET
                                    2-0255      		; MOVIA		(W_REGISTER + RX_ADDR_P0)
                                    2-0256      		; MOVAR		R_SPI_ADR
                                    2-0257      		; LCALL		RF_SET_TX_ID      
                                    2-0258      		; LGOTO		RF_SPI_ADD_SET
                                    2-0259      ; ;==========================================================		
                                    2-0260      ; ;==========================================================
                                    2-0261      ; RF_SET_RX_ID:			
                                    2-0262      		; MOVIA		0XCC
                                    2-0263      		; MOVAR		R_RF_SEND_0
                                    2-0264      		; MOVAR		R_RF_SEND_4
                                    2-0265      		; MOVR		R_RX_ADDR0, TO_A
                                    2-0266      		; MOVAR		R_RF_SEND_1
                                    2-0267      		; MOVR		R_RX_ADDR1, TO_A
                                    2-0268      		; MOVAR		R_RF_SEND_2
                                    2-0269      		; MOVR		R_RX_ADDR2, TO_A
                                    2-0270      		; MOVAR		R_RF_SEND_3
                                    2-0271              ; RET
                                    2-0272      ;==========================================================
                                    2-0273      ; RF KSL297L initialize subroutine
                                    2-0274      ;==========================================================
                1E7                 2- 275      INIT_RF:
      1E7 1E86                      2- 276     		BCR			IO_RF_MOSI
      1E8 1C05                      2- 277     		BCR			IO_RF_SCK
      1E9 1885                      2- 278     		BSR			IO_RF_CSN
      1EA 2958                      2- 279     		LCALL		DELAY_50MS
      1EB 2A28                      2- 280     		LCALL		DETECT_SPI
                1EC                 2- 281      INIT_RF_00:
                                    2-0282      ;; 模拟电路配置
      1EC 2112                      2- 283     		MOVIA		(R_REGISTER+ANALOG_CFG0)
      1ED 00B0                      2- 284     		MOVAR		R_SPI_ADR
      1EE 2110                      2- 285     		MOVIA		16
      1EF 00B1                      2- 286     		MOVAR		R_RF_DATA_LEN
      1F0 2B1D                      2- 287     		LCALL		RF_FIFO_R			;读FIFO
      1F1 1B2C                      2- 288     		BSR			R_RF_SEND_12, 6
      1F2 1D24                      2- 289     		BCR			R_RF_SEND_4, 2
      1F3 2132                      2- 290     		MOVIA		(W_REGISTER+ANALOG_CFG0)
      1F4 00B0                      2- 291     		MOVAR		R_SPI_ADR
      1F5 2110                      2- 292     		MOVIA		16
      1F6 00B1                      2- 293     		MOVAR		R_RF_DATA_LEN
      1F7 2B2E                      2- 294     		LCALL		RF_FIFO_W			;写入FIFO
                                    2-0295      
                                    2-0296      ;1、配置为软件CE，2、唤醒RF
      1F8 2A37                      2- 297     		LCALL		RF_MODULE_WAKE
                                    2-0298      ; 配置应答PIPE
      1F9 2121                      2- 299     		MOVIA		(W_REGISTER+EN_AA)	;0X01
      1FA 00B0                      2- 300     		MOVAR		R_SPI_ADR
      1FB 213F                      2- 301     		MOVIA		03FH
      1FC 00B7                      2- 302     		MOVAR		R_SPI_DATA
      1FD 2B3C                      2- 303     		LCALL		SPI_WRITE
                                    2-0304      ; 配置使能地址
      1FE 2122                      2- 305     		MOVIA		(W_REGISTER+EN_RXADDR)
      1FF 00B0                      2- 306     		MOVAR		R_SPI_ADR
      200 213F                      2- 307     		MOVIA		03FH
      201 00B7                      2- 308     		MOVAR		R_SPI_DATA
      202 2B3C                      2- 309     		LCALL		SPI_WRITE
                                    2-0310      ;;配置地址长度
      203 21AF                      2- 311     		MOVIA		B'10101111'		;地址长度为5byte
      204 00B7                      2- 312     		MOVAR		R_SPI_DATA
      205 2123                      2- 313     		MOVIA		(W_REGISTER+SETUP_AW)
      206 00B0                      2- 314     		MOVAR		R_SPI_ADR
      207 2B3C                      2- 315     		LCALL		SPI_WRITE
                                    2-0316      ;;配置重传次数和时间间隔
      208 2112                      2- 317     		MOVIA		0X12;B'00000010'		;250us  2次
      209 00B7                      2- 318     		MOVAR		R_SPI_DATA
      20A 2124                      2- 319     		MOVIA		(W_REGISTER+SETUP_RETR)
      20B 00B0                      2- 320     		MOVAR		R_SPI_ADR
      20C 2B3C                      2- 321     		LCALL		SPI_WRITE
                                    2-0322      ;;配置为1M通信方式		002H
                                    2-0323      ;;配置为250K通信方式	022H  0010 0010	
      20D 2126                      2- 324     		MOVIA		(W_REGISTER+SETUP_RF)
      20E 00B0                      2- 325     		MOVAR		R_SPI_ADR
      20F 2122                      2- 326     		MOVIA		022H;002H
      210 00B7                      2- 327     		MOVAR		R_SPI_DATA
      211 2B3C                      2- 328     		LCALL		SPI_WRITE
                                    2-0329      ;;配置PIPE0&PIPE1接收包长度
      212 2131                      2- 330     		MOVIA		(W_REGISTER+RX_PW_PX)
      213 00B0                      2- 331     		MOVAR		R_SPI_ADR
      214 2109                      2- 332     		MOVIA		RF_PACKET_SIZE	
      215 00A0                      2- 333     		MOVAR		R_RF_SEND_0
      216 00A1                      2- 334     		MOVAR		R_RF_SEND_1
      217 2102                      2- 335     		MOVIA		2
      218 00B1                      2- 336     		MOVAR		R_RF_DATA_LEN
      219 2B2E                      2- 337     		LCALL		RF_FIFO_W
                                    2-0338      ;;配置PIPE动态长度使能位: 所有PIPE都不需要使能动态
      21A 213C                      2- 339     		MOVIA		(W_REGISTER+DYNPD)
      21B 00B0                      2- 340     		MOVAR		R_SPI_ADR
      21C 2100                      2- 341     		MOVIA		0
      21D 00B7                      2- 342     		MOVAR		R_SPI_DATA
      21E 2B3C                      2- 343     		LCALL		SPI_WRITE
                                    2-0344      ;;配置其他RF特性:
                                    2-0345      ;;bit7&6=00 发送寄存器地址时返回State
                                    2-0346      ;;bit5=0 非长数据包
                                    2-0347      ;;bit4=1 禁止FEC功能
                                    2-0348      ;;bit3=1 FEATURE 配置有效
                                    2-0349      ;;bit2=0 动态长度功能关闭
                                    2-0350      ;;bit1=0 ACK不用带PL
                                    2-0351      ;;bit0=0 未开启W_TX_PAYLOAD_NOACK模式
      21F 213D                      2- 352     		MOVIA		(W_REGISTER+FEATURE)
      220 00B0                      2- 353     		MOVAR		R_SPI_ADR
      221 2118                      2- 354     		MOVIA		018H			;0001 1000
      222 00B7                      2- 355     		MOVAR		R_SPI_DATA
      223 2B3C                      2- 356     		LCALL		SPI_WRITE
                                    2-0357      	
      224 2AE3                      2- 358     		LCALL		RF_REC_CAL			; RF 接收校准
      225 2A43                      2- 359     		LCALL		RF_SET_NORMAL_PWR	;信号强度
      226 2A54                      2- 360     		LCALL		RF_SET_DEFAULT_ADR	;写入通讯地址
                                    2-0361      		;LCALL		RF_SET_TX_MODE
      227 0010                      2- 362     		RET
                                    2-0363      ;;------------------------------------------------
                                    2-0364      ;;检测SPI
                                    2-0365      ;;------------------------------------------------
                228                 2- 366      DETECT_SPI:
      228 210A                      2- 367     		MOVIA		10
      229 00B7                      2- 368     		MOVAR		R_SPI_DATA
      22A 2121                      2- 369     		MOVIA		(W_REGISTER+EN_AA)
      22B 00B0                      2- 370     		MOVAR		R_SPI_ADR
      22C 2B3C                      2- 371     		LCALL 		SPI_WRITE
      22D 2970                      2- 372     		LCALL		DELAY_50US
      22E 2101                      2- 373     		MOVIA		(R_REGISTER+EN_AA)
      22F 00B0                      2- 374     		MOVAR		R_SPI_ADR
      230 2B3C                      2- 375     		LCALL		SPI_READ
      231 0137                      2- 376     		MOVR		R_SPI_DATA, TO_A
      232 240A                      2- 377     		XORIA		10
      233 0D03                      2- 378     		BTRSC		STATUS, Z_B
      234 0010                      2- 379     		RET
      235 295E                      2- 380     		LCALL		DELAY_2MS
      236 3A28                      2- 381     		LGOTO		DETECT_SPI	
                                    2-0382      ;;==========================================================
                                    2-0383      ;配置为软件CE，唤醒RF
                                    2-0384      ;;==========================================================
                237                 2- 385      RF_MODULE_WAKE:
      237 2120                      2- 386     		MOVIA		(W_REGISTER+CFG_TOP)
      238 00B0                      2- 387     		MOVAR		R_SPI_ADR
      239 217E                      2- 388     		MOVIA		7EH			;0111 1110
      23A 00A0                      2- 389     		MOVAR		R_RF_SEND_0
      23B 2182                      2- 390     		MOVIA		082H		;1000 0010
      23C 00A1                      2- 391     		MOVAR		R_RF_SEND_1
      23D 210B                      2- 392     		MOVIA		00BH		;0000 1011
      23E 00A2                      2- 393     		MOVAR		R_RF_SEND_2
      23F 2103                      2- 394     		MOVIA		3
      240 00B1                      2- 395     		MOVAR		R_RF_DATA_LEN
      241 2B2E                      2- 396     		LCALL		RF_FIFO_W
      242 0010                      2- 397     		RET		
                                    2-0398      ;==========================================================
                                    2-0399      ;功率设置
                                    2-0400      ;==========================================================
                243                 2- 401      RF_SET_0DB_PWR:
                243                 2- 402      RF_SET_NORMAL_PWR:
                                    2-0403      		;MOVIA		(C_RF0dBm)
      243 2134                      2- 404     		MOVIA		(C_RF8dBm)
      244 3A46                      2- 405     		LGOTO		SET_RF_POWER
                245                 2- 406      RF_SET_LOW_PWR:
      245 210C                      2- 407     		MOVIA		(C_RF_2dBm)
                                    2-0408      		;LGOTO		SET_RF_POWER
                246                 2- 409      SET_RF_POWER:
      246 00B8                      2- 410     		MOVAR		R_TEMP00
      247 2105                      2- 411     		MOVIA		(R_REGISTER + RF_CH)
      248 00B0                      2- 412     		MOVAR		R_SPI_ADR
      249 2103                      2- 413     		MOVIA		3
      24A 00B1                      2- 414     		MOVAR		R_RF_DATA_LEN
      24B 2B1B                      2- 415     		LCALL		RF_TEMP_R
                                    2-0416      		
      24C 2125                      2- 417     		MOVIA		(W_REGISTER + RF_CH)
      24D 00B0                      2- 418             MOVAR		R_SPI_ADR
      24E 0138                      2- 419     		MOVR		R_TEMP00, TO_A
      24F 00AF                      2- 420     		MOVAR		R_SPI_TEMP2
      250 2103                      2- 421     		MOVIA		3
      251 00B1                      2- 422     		MOVAR		R_RF_DATA_LEN
      252 2B2C                      2- 423     		LCALL		RF_TEMP_W
      253 0010                      2- 424     		RET
                                    2-0425      ;==========================================================
                                    2-0426      ;TX_ADDR      发射地址，只用于发射	
                                    2-0427      ;RX_ADDR_P0   接收地址，只用于接收	
                                    2-0428      ;==========================================================
                254                 2- 429      RF_SET_DEFAULT_ADR:
      254 2130                      2- 430     		MOVIA		(W_REGISTER + TX_ADDR)
      255 00B0                      2- 431     		MOVAR		R_SPI_ADR
      256 2A59                      2- 432     		LCALL		RF_SET_DEFAULT_ADR_NEXT
      257 212A                      2- 433     		MOVIA		(W_REGISTER + RX_ADDR_P0)
      258 00B0                      2- 434     		MOVAR		R_SPI_ADR
                259                 2- 435      RF_SET_DEFAULT_ADR_NEXT:
      259 21CC                      2- 436     		MOVIA		0XCC
      25A 00A0                      2- 437     		MOVAR		R_RF_SEND_0
      25B 00A1                      2- 438     		MOVAR		R_RF_SEND_1
      25C 00A2                      2- 439     		MOVAR		R_RF_SEND_2
      25D 00A3                      2- 440     		MOVAR		R_RF_SEND_3
      25E 00A4                      2- 441             MOVAR		R_RF_SEND_4          
                25F                 2- 442      RF_SPI_ADD_SET:
      25F 2105                      2- 443     		MOVIA		ADD_WIDTH
                260                 2- 444      RF_SPI_FIFO_SET:
      260 00B1                      2- 445     		MOVAR		R_RF_DATA_LEN
      261 2B2E                      2- 446             LCALL		RF_FIFO_W
      262 0010                      2- 447             RET		
                                    2-0448      
                                    2-0449      ;;----------------------------------------------------
                                    2-0450      ;;RF休眠
                                    2-0451      ;;----------------------------------------------------
                263                 2- 452      RF_MODULE_SLEEP:
      263 29B3                      2- 453     		LCALL		RF_CE_LOW
                                    2-0454      		
      264 2120                      2- 455     		MOVIA		(W_REGISTER+CFG_TOP)
      265 00B0                      2- 456     		MOVAR		R_SPI_ADR
      266 217C                      2- 457     		MOVIA		07CH
      267 00A0                      2- 458     		MOVAR		R_RF_SEND_0
      268 2182                      2- 459     		MOVIA		082H
      269 00A1                      2- 460     		MOVAR		R_RF_SEND_1
      26A 2103                      2- 461     		MOVIA		003H
      26B 00A2                      2- 462     		MOVAR		R_RF_SEND_2
      26C 2103                      2- 463     		MOVIA		3
      26D 00B1                      2- 464     		MOVAR		R_RF_DATA_LEN
      26E 2B2E                      2- 465     		LCALL		RF_FIFO_W
                26F                 2- 466      CONFIG_OTHER_PIN:
      26F 0010                      2- 467     		RET
                                    2-0468      ;;;==========================================================
                                    2-0469      ;;载波测试
                                    2-0470      ;;;==========================================================
                270                 2- 471      RF_CARRIER_TEST:
      270 2112                      2- 472     		MOVIA		(R_REGISTER+ANALOG_CFG0)
      271 00B0                      2- 473     		MOVAR		R_SPI_ADR
      272 2110                      2- 474     		MOVIA		16
      273 00B1                      2- 475     		MOVAR		R_RF_DATA_LEN
      274 2B1D                      2- 476     		LCALL		RF_FIFO_R
      275 1B2C                      2- 477     		BSR			R_RF_SEND_12, 6
      276 1D24                      2- 478     		BCR			R_RF_SEND_4, 2
      277 2132                      2- 479     		MOVIA		(W_REGISTER+ANALOG_CFG0)
      278 00B0                      2- 480     		MOVAR		R_SPI_ADR
      279 2110                      2- 481     		MOVIA		16
      27A 00B1                      2- 482     		MOVAR		R_RF_DATA_LEN
      27B 2B2E                      2- 483     		LCALL		RF_FIFO_W
                                    2-0484      
      27C 2139                      2- 485     		MOVIA		(W_REGISTER|TXPROC_CFG)
      27D 00B0                      2- 486     		MOVAR		R_SPI_ADR
      27E 2100                      2- 487     		MOVIA		0
      27F 00B7                      2- 488     		MOVAR		R_SPI_DATA
      280 2B3C                      2- 489     		LCALL		SPI_WRITE
                                    2-0490      
      281 2126                      2- 491     		MOVIA		(W_REGISTER|SETUP_RF)
      282 00B0                      2- 492     		MOVAR		R_SPI_ADR
      283 2102                      2- 493     		MOVIA		2
      284 00B1                      2- 494     		MOVAR		R_RF_DATA_LEN
      285 2101                      2- 495     		MOVIA		1
      286 00A0                      2- 496     		MOVAR		R_RF_SEND_0
      287 2100                      2- 497     		MOVIA		0
      288 00A1                      2- 498     		MOVAR		R_RF_SEND_1
      289 2B2E                      2- 499     		LCALL		RF_FIFO_W
                                    2-0500      
      28A 29BF                      2- 501     		LCALL		RF_CLEAR_STATUS
      28B 0010                      2- 502     		RET
                                    2-0503      ;;;=========================================================
                                    2-0504      ;;写入FIFO数据
                                    2-0505      ;;总长8ms左右
                                    2-0506      ;;;=========================================================
                28C                 2- 507      SEND_RF_DATA:
                                    2-0508      		;MOVIA		MAX_RT				;; Default state is MAX_RETRY
      28C 02B2                      2- 509     		CLRR		R_RF_TX_RESULT
                28D                 2- 510      CLEAR_TX_FIFO:
      28D 29BF                      2- 511     		LCALL		RF_CLEAR_STATUS
                                    2-0512      
      28E 2109                      2- 513     		MOVIA		(RF_PACKET_SIZE)	
      28F 00B1                      2- 514     		MOVAR		R_RF_DATA_LEN
      290 21A0                      2- 515     		MOVIA		W_TX_PLOAD		;写发射数据
      291 00B0                      2- 516     		MOVAR		R_SPI_ADR
      292 2B2E                      2- 517     		LCALL		RF_FIFO_W
      293 29A7                      2- 518     		LCALL		RF_CE_HIGH		;启动发射
      294 2966                      2- 519     		LCALL		DELAY_1MS		;发射时间
                                    2-0520      ;;1M&2M config
                                    2-0521      ;;Waiting for IRQ duration is 1ms~6mS
                                    2-0522      ;;250K config
                                    2-0523      ;;Waiting for IRQ duration is 2ms~6mS
      295 21C8                      2- 524     		MOVIA		200										;;
      296 00B1                      2- 525     		MOVAR		R_RF_DATA_LEN
                297                 2- 526      SEND_RF_DATA_COMPLETE_DETECT:								;; SPI byte RW timer is about 250uS while Instruction frequency is 3.64/4
      297 2970                      2- 527     		LCALL 		DELAY_50US
      298 2970                      2- 528     		LCALL 		DELAY_50US
      299 2107                      2- 529     		MOVIA		(R_REGISTER + RF_STATUS)      	; Check sending RF packet successful or not. If failed, retry; Max APP_RETRY_TIMES times.
      29A 00B0                      2- 530     		MOVAR 		R_SPI_ADR
      29B 2B3C                      2- 531     		LCALL		SPI_READ
      29C 0137                      2- 532     		MOVR		R_SPI_DATA, TO_A
      29D 00B2                      2- 533     		MOVAR		R_RF_TX_RESULT
      29E 2270                      2- 534     		ANDIA		B'01110000';;(TX_DS+MAX_RT+RX_DR)
      29F 0903                      2- 535     		BTRSS		STATUS, Z_B								;; If not complete
      2A0 3AA3                      2- 536     		LGOTO		SEND_RF_DATA_COMPLETE
      2A1 17B1                      2- 537     		DECRSZ		R_RF_DATA_LEN, TO_R
      2A2 3A97                      2- 538     		LGOTO		SEND_RF_DATA_COMPLETE_DETECT
                2A3                 2- 539      SEND_RF_DATA_COMPLETE:
      2A3 29B3                      2- 540     		LCALL		RF_CE_LOW
                2A4                 2- 541      SEND_RF_DATA_QUIT:
      2A4 0010                      2- 542     		RET
                                    2-0543      	
                                    2-0544      ;;;==========================================================
                                    2-0545      ;;;读取FIFO数据
                                    2-0546      ;;;==========================================================
                2A5                 2- 547      REC_RF_DATA:
      2A5 2107                      2- 548     		MOVIA		(R_REGISTER + RF_STATUS)
      2A6 00B0                      2- 549     		MOVAR		R_SPI_ADR
      2A7 2B3C                      2- 550     		LCALL		SPI_READ
      2A8 0137                      2- 551     		MOVR		R_SPI_DATA, TO_A
      2A9 22FE                      2- 552             ANDIA		0XFE
      2AA 00B2                      2- 553     		MOVAR		R_RF_RX_RESULT
      2AB 0D03                      2- 554             BTRSC		STATUS, Z_B
      2AC 0010                      2- 555             RET
      2AD 2270                      2- 556     		ANDIA		B'01110000'
      2AE 2440                      2- 557     		XORIA		RX_DR
      2AF 0903                      2- 558     		BTRSS		STATUS, Z_B
      2B0 3ACE                      2- 559     		LGOTO		RF_REC_FAIL
                                    2-0560      		
                                    2-0561      		;LCALL		RF_CE_LOW
      2B1 3AB2                      2- 562     		LGOTO		$+1
      2B2 3AB3                      2- 563     		LGOTO		$+1
                                    2-0564      		
      2B3 2160                      2- 565     		MOVIA		(R_REGISTER + R_RX_PL_WID)	
      2B4 00B0                      2- 566     		MOVAR		R_SPI_ADR
      2B5 2B3C                      2- 567     		LCALL		SPI_READ		;读 RX FIFO 最顶部 RX-payload 数据宽度
      2B6 0137                      2- 568     		MOVR		R_SPI_DATA, TO_A
      2B7 2409                      2- 569     		XORIA		RF_PACKET_SIZE
      2B8 0903                      2- 570     		BTRSS		STATUS, Z_B
      2B9 3ACC                      2- 571     		LGOTO		REC_RF_QUIT0
      2BA 2161                      2- 572     		MOVIA		R_RX_PLOAD		  		;;写R_RX_PAYLOAD
      2BB 00B0                      2- 573     		MOVAR		R_SPI_ADR
      2BC 2109                      2- 574     		MOVIA		RF_PACKET_SIZE
      2BD 00B1                      2- 575     		MOVAR		R_RF_DATA_LEN
      2BE 2B1D                      2- 576     		LCALL		RF_FIFO_R
                                    2-0577              ;读接收数据，读操作通常由第 0 字节开始，读完过
                                    2-0578      		;后数据将从 RX FIFO 中删除，接收模式下执行
                                    2-0579      		
      2BF 02BD                      2- 580     		CLRR		R_TR_START
      2C0 0132                      2- 581             MOVR		R_RF_RX_RESULT, TO_A
      2C1 220E                      2- 582            	ANDIA		0X0E
      2C2 0903                      2- 583             BTRSS		STATUS, Z_B
      2C3 3AC7                      2- 584             LGOTO		REC_RF_DATA_00
      2C4 2101                      2- 585             MOVIA		1
      2C5 00BD                      2- 586             MOVAR		R_TR_START
      2C6 3ACC                      2- 587             LGOTO		REC_RF_QUIT0
                                    2-0588              
                2C7                 2- 589      REC_RF_DATA_00:
      2C7 2202                      2- 590     		ANDIA		0X02
      2C8 0D03                      2- 591             BTRSC		STATUS, Z_B
      2C9 3ACC                      2- 592             LGOTO		REC_RF_QUIT0
      2CA 2102                      2- 593             MOVIA		2
      2CB 00BD                      2- 594             MOVAR		R_TR_START
                                    2-0595              
                2CC                 2- 596      REC_RF_QUIT0:
      2CC 29BF                      2- 597     		LCALL		RF_CLEAR_STATUS
                                    2-0598      		;LCALL		RF_CE_HIGH
      2CD 0010                      2- 599     		RET
                                    2-0600      		
                2CE                 2- 601      RF_REC_FAIL:
      2CE 29BF                      2- 602     		LCALL		RF_CLEAR_STATUS
      2CF 02B2                      2- 603     		CLRR		R_RF_RX_RESULT
      2D0 0010                      2- 604     		RET
                                    2-0605      
                                    2-0606      ;;----------------------------------------------------
                                    2-0607      ;;开启发射
                                    2-0608      ;;----------------------------------------------------	
                2D1                 2- 609      RF_SET_TX_MODE:
      2D1 29B3                      2- 610     		LCALL		RF_CE_LOW		
      2D2 29BF                      2- 611     		LCALL		RF_CLEAR_STATUS
                                    2-0612      		
      2D3 2120                      2- 613     		MOVIA		(W_REGISTER+CFG_TOP)
      2D4 00B0                      2- 614     		MOVAR		R_SPI_ADR
      2D5 217E                      2- 615     		MOVIA		7EH
      2D6 00B7                      2- 616     		MOVAR		R_SPI_DATA
      2D7 2B3C                      2- 617     		LCALL		SPI_WRITE
                                    2-0618      
                                    2-0619      		;LCALL		RF_REC_CAL
      2D8 0010                      2- 620     		RET
                                    2-0621      ;;----------------------------------------------------
                                    2-0622      ;;开启接收
                                    2-0623      ;;----------------------------------------------------	
                2D9                 2- 624      RF_SET_RX_MODE:
      2D9 29B3                      2- 625     		LCALL		RF_CE_LOW
      2DA 29BF                      2- 626     		LCALL		RF_CLEAR_STATUS
                                    2-0627      
      2DB 2120                      2- 628     		MOVIA		(W_REGISTER+CFG_TOP)
      2DC 00B0                      2- 629     		MOVAR		R_SPI_ADR
      2DD 217F                      2- 630     		MOVIA		7FH
      2DE 00B7                      2- 631     		MOVAR		R_SPI_DATA
      2DF 2B3C                      2- 632     		LCALL		SPI_WRITE
                                    2-0633      
                                    2-0634      		;LCALL		RF_REC_CAL
                                    2-0635      
      2E0 295E                      2- 636     		LCALL		DELAY_2MS
      2E1 29A7                      2- 637     		LCALL		RF_CE_HIGH
      2E2 0010                      2- 638     		RET
                                    2-0639      ;==========================================================
                                    2-0640      ;; RF 接收校准，仅需要上电执行一次即可。
                                    2-0641      ;==========================================================
                2E3                 2- 642      RF_REC_CAL:
      2E3 2164                      2- 643     		MOVIA		100
      2E4 00BC                      2- 644     		MOVAR		R_DDL1
                2E5                 2- 645      RF_REC_CAL_LOOP:
      2E5 2970                      2- 646     		LCALL		DELAY_50US
      2E6 2115                      2- 647     		MOVIA		(R_REGISTER+ANALOG_CFG3)
      2E7 00B0                      2- 648     		MOVAR		R_SPI_ADR
      2E8 2102                      2- 649     		MOVIA		2
      2E9 00B1                      2- 650     		MOVAR		R_RF_DATA_LEN
      2EA 2B1B                      2- 651     		LCALL		RF_TEMP_R
      2EB 1BAE                      2- 652     		BSR			R_SPI_TEMP1, 7
      2EC 1EAE                      2- 653     		BCR			R_SPI_TEMP1, 5
      2ED 1A2E                      2- 654     		BSR			R_SPI_TEMP1, 4
      2EE 2135                      2- 655     		MOVIA		(W_REGISTER+ANALOG_CFG3)
      2EF 00B0                      2- 656     		MOVAR		R_SPI_ADR
      2F0 2102                      2- 657     		MOVIA		2
      2F1 00B1                      2- 658     		MOVAR		R_RF_DATA_LEN
      2F2 2B2C                      2- 659     		LCALL		RF_TEMP_W
      2F3 1B2E                      2- 660     		BSR			R_SPI_TEMP1, 6
      2F4 2135                      2- 661     		MOVIA		(W_REGISTER+ANALOG_CFG3)
      2F5 00B0                      2- 662     		MOVAR		R_SPI_ADR
      2F6 2102                      2- 663     		MOVIA		2
      2F7 00B1                      2- 664     		MOVAR		R_RF_DATA_LEN
      2F8 2B2C                      2- 665     		LCALL		RF_TEMP_W
      2F9 0000                      2- 666     		NOP
      2FA 2117                      2- 667     		MOVIA		(R_REGISTER+STATUS_FIFO)
      2FB 00B0                      2- 668     		MOVAR		R_SPI_ADR
      2FC 2102                      2- 669     		MOVIA		2
      2FD 00B1                      2- 670     		MOVAR		R_RF_DATA_LEN
      2FE 2B1B                      2- 671     		LCALL		RF_TEMP_R
      2FF 012E                      2- 672     		MOVR		R_SPI_TEMP1, TO_A
      300 00B8                      2- 673     		MOVAR		R_TEMP00
      301 0EAE                      2- 674     		BTRSC		R_SPI_TEMP1, 5
      302 3B05                      2- 675     		LGOTO		RF_REC_CAL_COMPLETE
      303 17BC                      2- 676     		DECRSZ		R_DDL1, TO_R
      304 3AE5                      2- 677     		LGOTO		RF_REC_CAL_LOOP
                305                 2- 678      RF_REC_CAL_COMPLETE:
      305 2115                      2- 679     		MOVIA		(R_REGISTER+ANALOG_CFG3)
      306 00B0                      2- 680     		MOVAR		R_SPI_ADR
      307 2102                      2- 681     		MOVIA		2
      308 00B1                      2- 682     		MOVAR		R_RF_DATA_LEN
      309 2B1B                      2- 683     		LCALL		RF_TEMP_R
      30A 012E                      2- 684     		MOVR		R_SPI_TEMP1, TO_A
      30B 228F                      2- 685     		ANDIA		B'10001111'
      30C 2320                      2- 686     		IORIA		B'00100000'
      30D 00AE                      2- 687     		MOVAR		R_SPI_TEMP1
      30E 2107                      2- 688     		MOVIA		B'00000111'
      30F 10AD                      2- 689     		ANDAR		R_SPI_TEMP0, TO_R
      310 14B8                      2- 690     		RLR			R_TEMP00, TO_R
      311 14B8                      2- 691     		RLR			R_TEMP00, TO_R
      312 1438                      2- 692     		RLR			R_TEMP00, TO_A
      313 22F8                      2- 693     		ANDIA		B'11111000'
      314 11AD                      2- 694     		IORAR		R_SPI_TEMP0, TO_R
      315 2135                      2- 695     		MOVIA		(W_REGISTER+ANALOG_CFG3)
      316 00B0                      2- 696     		MOVAR		R_SPI_ADR
      317 2102                      2- 697     		MOVIA		2
      318 00B1                      2- 698     		MOVAR		R_RF_DATA_LEN
      319 2B2C                      2- 699     		LCALL		RF_TEMP_W
      31A 0010                      2- 700     		RET
                                    2-0701      ;==========================================================
                                    2-0702      ; input: R_RF_SEND_0 ~ R_RF_SEND_7
                                    2-0703      ;==========================================================
                31B                 2- 704      RF_TEMP_R:
      31B 212D                      2- 705     		MOVIA		R_SPI_TEMP0
      31C 3B1E                      2- 706     		LGOTO		RF_FIFO_R_0
                31D                 2- 707      RF_FIFO_R:
      31D 2120                      2- 708     		MOVIA		R_RF_SEND_0
                31E                 2- 709      RF_FIFO_R_0:
      31E 0084                      2- 710     		MOVAR		FSR
      31F 1C85                      2- 711     		BCR			IO_RF_CSN
      320 0130                      2- 712     		MOVR		R_SPI_ADR, TO_A
      321 00B9                      2- 713     		MOVAR		R_TEMP01
      322 2B47                      2- 714     		LCALL		SPI_RW
                323                 2- 715      RF_FIFO_R_LOOP:
      323 02B9                      2- 716     		CLRR		R_TEMP01
      324 2B47                      2- 717     		LCALL		SPI_RW
      325 0139                      2- 718     		MOVR		R_TEMP01, TO_A
      326 0080                      2- 719     		MOVAR		INDF
      327 0584                      2- 720     		INCR		FSR, TO_R
      328 17B1                      2- 721     		DECRSZ		R_RF_DATA_LEN, TO_R
      329 3B23                      2- 722     		LGOTO		RF_FIFO_R_LOOP
      32A 1885                      2- 723     		BSR			IO_RF_CSN
      32B 0010                      2- 724     		RET
                                    2-0725      
                32C                 2- 726      RF_TEMP_W:
      32C 212D                      2- 727     		MOVIA		R_SPI_TEMP0
      32D 3B2F                      2- 728     		LGOTO		RF_FIFO_W_0
                32E                 2- 729      RF_FIFO_W:
      32E 2120                      2- 730     		MOVIA		R_RF_SEND_0
                32F                 2- 731      RF_FIFO_W_0:
      32F 0084                      2- 732     		MOVAR		FSR
      330 1C85                      2- 733     		BCR			IO_RF_CSN
      331 0130                      2- 734     		MOVR		R_SPI_ADR, TO_A
      332 00B9                      2- 735     		MOVAR		R_TEMP01
      333 2B47                      2- 736     		LCALL		SPI_RW
                334                 2- 737      RF_FIFO_W_LOOP:
      334 0100                      2- 738     		MOVR		INDF, TO_A
      335 00B9                      2- 739     		MOVAR		R_TEMP01
      336 2B47                      2- 740     		LCALL		SPI_RW
      337 0584                      2- 741     		INCR		FSR, TO_R
      338 17B1                      2- 742     		DECRSZ		R_RF_DATA_LEN, TO_R
      339 3B34                      2- 743     		LGOTO		RF_FIFO_W_LOOP
      33A 1885                      2- 744     		BSR			IO_RF_CSN
      33B 0010                      2- 745     		RET
                                    2-0746      ;;=========================================================
                                    2-0747      ;;=========================================================
                                    2-0748      ;input:R_SPI_ADR
                                    2-0749      ;output:R_SPI_DATA
                                    2-0750      ;;=========================================================
                33C                 2- 751      SPI_WRITE:
                33C                 2- 752      SPI_READ:
      33C 1C85                      2- 753     		BCR			IO_RF_CSN
      33D 0130                      2- 754     		MOVR  		R_SPI_ADR, TO_A
      33E 00B9                      2- 755     		MOVAR  		R_TEMP01
      33F 2B47                      2- 756     		LCALL 		SPI_RW
      340 0137                      2- 757     		MOVR  		R_SPI_DATA, TO_A
      341 00B9                      2- 758     		MOVAR  		R_TEMP01
      342 2B47                      2- 759     		LCALL 		SPI_RW
      343 0139                      2- 760     		MOVR  		R_TEMP01,  TO_A
      344 00B7                      2- 761     		MOVAR  		R_SPI_DATA
      345 1885                      2- 762     		BSR			IO_RF_CSN
      346 0010                      2- 763     		RET
                                    2-0764      ;;=========================================================
                                    2-0765      ;input: R_TEMP01
                                    2-0766      ;output:R_TEMP01
                                    2-0767      ;;=========================================================
                347                 2- 768      SPI_RW:
      347 0002                      2- 769     		CLRWDT
      348 1C05                      2- 770     		BCR			IO_RF_SCK
      349 2108                      2- 771     		MOVIA		8
      34A 00BA                      2- 772     		MOVAR		R_TEMP02
                34B                 2- 773      SPI_RW_LOOP:
      34B 14B9                      2- 774     		RLR			R_TEMP01, TO_R
      34C 0C03                      2- 775     		BTRSC		STATUS, C_B							;DATA, check C
      34D 3B50                      2- 776     		LGOTO		$+3
      34E 1E86                      2- 777     		BCR			IO_RF_MOSI
      34F 3B51                      2- 778     		LGOTO		$+2
      350 1A86                      2- 779     		BSR			IO_RF_MOSI
                                    2-0780      
      351 1805                      2- 781     		BSR			IO_RF_SCK
      352 0A06                      2- 782     		BTRSS		IO_RF_MISO
      353 3B56                      2- 783     		LGOTO		$+3
      354 1839                      2- 784     		BSR			R_TEMP01, 0
      355 3B57                      2- 785     		LGOTO		$+2
      356 1C39                      2- 786     		BCR			R_TEMP01, 0
      357 1C05                      2- 787     		BCR			IO_RF_SCK
      358 17BA                      2- 788     		DECRSZ		R_TEMP02, TO_R
      359 3B4B                      2- 789     		LGOTO		SPI_RW_LOOP
      35A 1E86                      2- 790     		BCR			IO_RF_MOSI
      35B 0010                      2- 791     		RET
                                    0-0785      #INCLUDE		"FT_TEST.asm"
                                    3-0001      ;;##############################################################################
                                    3-0002      ;;File description
                                    3-0003      ;;This file includes the subroutines about RF TEST
                                    3-0004      ;;Date:2013/12/10
                                    3-0005      ;;##############################################################################
                35C                 3-   6      FT_TEST:
      35C 2114                      3-   7     		movia		00010100B	;1,input,;0,output			
      35D 0006                      3-   8     		IOST		IOSTB		;输入输出 (1:Input/0:Output)
                                    3-0009      		
      35E 2164                      3-  10     		MOVIA		100
      35F 00A0                      3-  11     		MOVAR		R_RF_SEND_0     	;上电200ms内判断10ms脉冲
      360 21DF                      3-  12     		MOVIA		B'11011111'         
      361 008B                      3-  13     		MOVAR		ABPLCON				;开启PB2下拉
                362                 3-  14      WAIT_SIG_H:
      362 0D06                      3-  15     		BTRSC		PORTB, 2
      363 3B68                      3-  16     		LGOTO		WAIT_SIG_H_WAIT   	;检测到高电平，跳转到防抖
      364 2B99                      3-  17     		LCALL		DELAY_2MS_TEST
      365 17A0                      3-  18     		DECRSZ		R_RF_SEND_0, TO_R   ;倒计时计数
      366 3B62                      3-  19     		LGOTO		WAIT_SIG_H        	;回到开始继续等待高电平
      367 3B76                      3-  20     		LGOTO		SIG_CHECK_EXIT	  	;退出检测模式
                368                 3-  21      WAIT_SIG_H_WAIT:
      368 2B99                      3-  22     		LCALL		DELAY_2MS_TEST			;延时2ms防抖
      369 0906                      3-  23     		BTRSS		PORTB, 2
      36A 3B62                      3-  24     		LGOTO		WAIT_SIG_H          ;检测到低电平，返回开始继续等待高电平
      36B 21FF                      3-  25     		MOVIA		B'11111111'         ;成功检测到高电平，则将PB2下拉关闭，打开PB2上拉，等待PB2被拉低
      36C 008B                      3-  26     		MOVAR		ABPLCON				;关闭PB2下拉
      36D 21FB                      3-  27     		MOVIA		B'11111011'    
      36E 008C                      3-  28     		MOVAR		BPHCON				;打开PB2上拉
                36F                 3-  29      WAIT_SIG_L:
      36F 2B97                      3-  30     		LCALL		DELAY_6MS_TEST		;延时6ms，判断是否被拉低
      370 0906                      3-  31     		BTRSS		PORTB, 2
      371 3B7B                      3-  32     		LGOTO		SIG_CHECK_OK 		;检测到低电平，跳出测试
      372 2B97                      3-  33     		LCALL		DELAY_6MS_TEST
      373 0906                      3-  34     		BTRSS		PORTB, 2 			;未检测到，延时10ms继续检测
      374 3B7B                      3-  35     		LGOTO		SIG_CHECK_OK
      375 3B76                      3-  36     		LGOTO		SIG_CHECK_EXIT		;一直未检测到PA2被拉低，退出检测模式
                376                 3-  37      SIG_CHECK_EXIT:
      376 21FF                      3-  38     		MOVIA		B'11111111'         
      377 008B                      3-  39     		MOVAR		ABPLCON				;复原寄存器
      378 21FF                      3-  40     		MOVIA		B'11111111'    
      379 008C                      3-  41     		MOVAR		BPHCON				;复原寄存器
      37A 0010                      3-  42     	    RET
                                    3-0043      	    
                37B                 3-  44      SIG_CHECK_OK:
                                    3-0045      ;;————注意如果以下部分看不懂，请查看我司提供的汇编参考代码————
                                    3-0046      ;;再次说明，以上部分在芯片初始化的时候调用，寄存器，宏等请根据需要修改
                                    3-0047      ;;以下部分为-单载波模式进入子程序-
      37B 21FF                      3-  48     		MOVIA		B'11111111'		;;//PA&PB下拉电阻0:EN 1:DIS 
      37C 008B                      3-  49     		MOVAR		ABPLCON
      37D 21F8                      3-  50     		MOVIA		B'11111000'		;;//PA口输出输入模式控制1：输入：0输出
      37E 0005                      3-  51     		IOST		IOSTA
      37F 21C7                      3-  52     		MOVIA		B'11000111'		;;	//上拉电阻寄存器0:EN; 1:dis
      380 0009                      3-  53     		IOST		APHCON
      381 21DF                      3-  54     		MOVIA		B'11011111'
      382 0006                      3-  55     		IOST		IOSTB
      383 21DF                      3-  56     		MOVIA		B'11011111'
      384 008C                      3-  57     		MOVAR		BPHCON
                385                 3-  58      FT_TEST_ST:
      385 0002                      3-  59     		CLRWDT
      386 0E06                      3-  60     		BTRSC		IO_RF_MISO
      387 1905                      3-  61     		BSR			TEST_RF_MISO
      388 0A06                      3-  62     		BTRSS		IO_RF_MISO
      389 1D05                      3-  63     		BCR			TEST_RF_MISO
                                    3-0064      		
      38A 0D85                      3-  65     		BTRSC		TEST_RF_MOSI
      38B 1A86                      3-  66     		BSR			IO_RF_MOSI
      38C 0985                      3-  67     		BTRSS		TEST_RF_MOSI
      38D 1E86                      3-  68     		BCR			IO_RF_MOSI
                                    3-0069      		
      38E 0E05                      3-  70     		BTRSC		TEST_RF_SCK
      38F 1805                      3-  71     		BSR			IO_RF_SCK
      390 0A05                      3-  72     		BTRSS		TEST_RF_SCK
      391 1C05                      3-  73     		BCR			IO_RF_SCK
                                    3-0074      		
      392 0E85                      3-  75     		BTRSC		TEST_RF_CSN
      393 1885                      3-  76     		BSR			IO_RF_CSN
      394 0A85                      3-  77     		BTRSS		TEST_RF_CSN
      395 1C85                      3-  78     		BCR			IO_RF_CSN
                                    3-0079      		
      396 3B85                      3-  80     		LGOTO		FT_TEST_ST
                                    3-0081      ;;#################################################################
                                    3-0082      ;;DELAY MS
                                    3-0083      ;;#################################################################  
                397                 3-  84      DELAY_6MS_TEST:
      397 2106                      3-  85     		MOVIA		6
      398 3B9B                      3-  86     		LGOTO		DELAY_MS_BASE_TEST
                399                 3-  87      DELAY_2MS_TEST:
      399 2102                      3-  88     		MOVIA		2
      39A 3B9B                      3-  89     		LGOTO		DELAY_MS_BASE_TEST
                39B                 3-  90      DELAY_MS_BASE_TEST:
      39B 00BC                      3-  91     		MOVAR		R_DDL1
                39C                 3-  92      DELAY_MS_LOOP_TEST:
      39C 0002                      3-  93     		CLRWDT
      39D 2BA1                      3-  94             LCALL       DELAY_1MS_TEST
      39E 17BC                      3-  95     		DECRSZ		R_DDL1, TO_R
      39F 3B9C                      3-  96     		LGOTO		DELAY_MS_LOOP_TEST
      3A0 0010                      3-  97     		RET
                                    3-0098      ;;#################################################################
                                    3-0099      ;;DELAY US
                                    3-0100      ;;#################################################################
                3A1                 3- 101      DELAY_1MS_TEST:
      3A1 21C8                      3- 102     		MOVIA		200
      3A2 3BA3                      3- 103     		LGOTO		DELAY_US_BASE_TEST
                3A3                 3- 104      DELAY_US_BASE_TEST:
      3A3 00BB                      3- 105     		MOVAR		R_DDL0
                3A4                 3- 106      DELAY_XX_US_LOOP_TEST:			;5US
      3A4 0002                      3- 107     		CLRWDT
      3A5 3BA6                      3- 108     		LGOTO		$+1
      3A6 3BA7                      3- 109     		LGOTO		$+1
      3A7 3BA8                      3- 110     		LGOTO		$+1
      3A8 3BA9                      3- 111     		LGOTO		$+1
      3A9 3BAA                      3- 112     		LGOTO		$+1
      3AA 3BAB                      3- 113     		LGOTO		$+1
      3AB 3BAC                      3- 114     		LGOTO		$+1
      3AC 3BAD                      3- 115     		LGOTO		$+1
      3AD 17BB                      3- 116     		DECRSZ		R_DDL0, TO_R
      3AE 3BA4                      3- 117     		LGOTO		DELAY_XX_US_LOOP_TEST
      3AF 0010                      3- 118     		RET
                                    0-0786      ;;******************************************************************
                                    0-0787      ;;******************************************************************
                                    0-0788      end											; End of Code

NYASM 2.28 [Build 210127.00]  File=D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\main.asm Date=2022-12-01 11:48:24

SYMBOL TABLE            TYPE     VALUE

__8A054E                Constant 00000001
__PIN_COUNT__           Constant 0000000E
__PROCESSOR__           Constant 00800544
A                       Constant 00000000
ABPLCON                 Constant 0000000B
ADD_WIDTH               Define   5
AGC_SETTING             Define   (0X0E)
ANALOG_CFG0             Define   (0X12)
ANALOG_CFG1             Define   (0X13)
ANALOG_CFG2             Define   (0X14)
ANALOG_CFG3             Define   (0X15)
APHCON                  Constant 00000009
AWUCON                  Constant 00000015
B_4MSFLAG               Define   FLAG_2,4
BER_RESULT              Define   (0X0D)
BIT_0                   Define   B'00000001'
BIT_1                   Define   B'00000010'
BIT_2                   Define   B'00000100'
BIT_3                   Define   B'00001000'
BIT_4                   Define   B'00010000'
BIT_5                   Define   B'00100000'
BIT_6                   Define   B'01000000'
BIT_7                   Define   B'10000000'
BODCON                  Constant 0000000C
BPHCON                  Constant 0000000C
BPS_GATED_CLK           Define   0X01
BPS_IDLE_RST            Define   0X02
BWUCON                  Constant 00000009
BZ1CR                   Constant 00000005
C_ALL_INT_EN            Constant 00000080
C_B                     Constant 00000000
C_BG_DIS                Constant 00000000
C_BG_EN                 Constant 00000080
C_BG_EN_BIT             Constant 00000007
C_BIT0                  Constant 00000001
C_BIT1                  Constant 00000002
C_BIT2                  Constant 00000004
C_BIT3                  Constant 00000008
C_BIT4                  Constant 00000010
C_BIT5                  Constant 00000020
C_BIT6                  Constant 00000040
C_BIT7                  Constant 00000080
C_BZ1_EN                Constant 00000080
C_BZ1_FSEL              Constant 0000000F
C_BZ1_PS1DIV128         Constant 00000006
C_BZ1_PS1DIV16          Constant 00000003
C_BZ1_PS1DIV2           Constant 00000000
C_BZ1_PS1DIV256         Constant 00000007
C_BZ1_PS1DIV32          Constant 00000004
C_BZ1_PS1DIV4           Constant 00000001
C_BZ1_PS1DIV64          Constant 00000005
C_BZ1_PS1DIV8           Constant 00000002
C_BZ1_TMR1B0            Constant 00000008
C_BZ1_TMR1B1            Constant 00000009
C_BZ1_TMR1B2            Constant 0000000A
C_BZ1_TMR1B3            Constant 0000000B
C_BZ1_TMR1B4            Constant 0000000C
C_BZ1_TMR1B5            Constant 0000000D
C_BZ1_TMR1B6            Constant 0000000E
C_BZ1_TMR1B7            Constant 0000000F
C_CHN_INDEX             Define   4
C_CMP_EN                Constant 00000004
C_CMP_EN_BIT            Constant 00000002
C_CMPFINV_DIS           Constant 00000000
C_CMPFINV_EN            Constant 00000010
C_CMPOUT                Constant 00000040
C_CMPOUT_BIT            Constant 00000006
C_DR_1M                 Define   002H
C_DR_250K               Define   022H
C_ELXT_BACKUP_DIS       Constant 00000040
C_ELXT_BACKUP_DIS_BIT   Constant 00000006
C_FHOSC_SEL             Constant 00000001
C_FHOSC_STOP            Constant 00000002
C_FLOSC_SEL             Constant 00000000
C_HALT_MODE             Constant 00000004
C_INDIR_ADDR            Constant 000000FF
C_INE_TMR3              Constant 00000001
C_INF_TMR3              Constant 00000010
C_INT_CMP               Constant 00000010
C_INT_CMP_BIT           Constant 00000004
C_INT_EXT0              Constant 00000004
C_INT_EXT0_BIT          Constant 00000002
C_INT_EXT1              Constant 00000080
C_INT_EXT1_BIT          Constant 00000007
C_INT_LVD               Constant 00000010
C_INT_LVD_BIT           Constant 00000004
C_INT_PABKEY            Constant 00000002
C_INT_PABKEY_BIT        Constant 00000001
C_INT_TMR0              Constant 00000001
C_INT_TMR0_BIT          Constant 00000000
C_INT_TMR1              Constant 00000008
C_INT_TMR1_BIT          Constant 00000003
C_INT_WDT               Constant 00000040
C_INT_WDT_BIT           Constant 00000006
C_INT0_EDGE             Constant 00000003
C_INT0_EN               Constant 00000010
C_INT0_EN_BIT           Constant 00000004
C_INT0_FALLINGEDGE      Constant 00000002
C_INT0_RISINGEDGE       Constant 00000001
C_INT0_TWOEDGE          Constant 00000003
C_INT1_EDGE             Constant 0000000C
C_INT1_EN               Constant 00000020
C_INT1_EN_BIT           Constant 00000005
C_INT1_FALLINGEDGE      Constant 00000008
C_INT1_RISINGEDGE       Constant 00000004
C_INT1_TWOEDGE          Constant 0000000C
C_IR_38K                Constant 00000000
C_IR_57K                Constant 00000002
C_IR_CLKSRC_358M        Constant 00000080
C_IR_CLKSRC_455K        Constant 00000000
C_IR_EN                 Constant 00000001
C_IR_POL_SEL            Constant 00000004
C_LVD_1P9V              Constant 00000000
C_LVD_2P0V              Constant 00000004
C_LVD_2P2V              Constant 00000008
C_LVD_2P4V              Constant 0000000C
C_LVD_2P6V              Constant 00000010
C_LVD_2P8V              Constant 00000014
C_LVD_2P9V              Constant 00000018
C_LVD_3P0V              Constant 0000001C
C_LVD_3P15V             Constant 00000020
C_LVD_3P3V              Constant 00000024
C_LVD_3P45V             Constant 00000028
C_LVD_3P6V              Constant 0000002C
C_LVD_3P75V             Constant 00000030
C_LVD_3P9V              Constant 00000034
C_LVD_4P05V             Constant 00000038
C_LVD_4P15V             Constant 0000003C
C_LVD_EN                Constant 00000020
C_LVD_EN_BIT            Constant 00000005
C_LVDOUT                Constant 00000040
C_LVDOUT_BIT            Constant 00000006
C_LVR_EN                Constant 00000008
C_LVR_EN_BIT            Constant 00000003
C_MODE                  Constant 0000000C
C_NBIT0                 Constant 000000FE
C_NBIT1                 Constant 000000FD
C_NBIT2                 Constant 000000FB
C_NBIT3                 Constant 000000F7
C_NBIT4                 Constant 000000EF
C_NBIT5                 Constant 000000DF
C_NBIT6                 Constant 000000BF
C_NBIT7                 Constant 0000007F
C_NORMAL_MODE           Constant 00000000
C_NUM0                  Constant 00000000
C_NUM1                  Constant 00000001
C_NUM2                  Constant 00000002
C_NUM3                  Constant 00000003
C_NUM4                  Constant 00000004
C_NUM5                  Constant 00000005
C_NUM6                  Constant 00000006
C_NUM7                  Constant 00000007
C_PA_DATA               Constant 000000FF
C_PA_INPUT              Constant 000000FF
C_PA_OUTPUT             Constant 00000000
C_PA_PHB                Constant 000000FF
C_PA_PLB                Constant 0000000F
C_PA_WAKEUP             Constant 000000FF
C_PA0_DATA              Constant 00000001
C_PA0_INPUT             Constant 00000001
C_PA0_OUTPUT            Constant 00000000
C_PA0_PHB               Constant 00000001
C_PA0_PLB               Constant 00000001
C_PA0_WAKEUP            Constant 00000001
C_PA1_DATA              Constant 00000002
C_PA1_INPUT             Constant 00000002
C_PA1_OUTPUT            Constant 00000000
C_PA1_PHB               Constant 00000002
C_PA1_PLB               Constant 00000002
C_PA1_WAKEUP            Constant 00000002
C_PA2_DATA              Constant 00000004
C_PA2_INPUT             Constant 00000004
C_PA2_OUTPUT            Constant 00000000
C_PA2_PHB               Constant 00000004
C_PA2_PLB               Constant 00000004
C_PA2_WAKEUP            Constant 00000004
C_PA3_DATA              Constant 00000008
C_PA3_INPUT             Constant 00000008
C_PA3_OUTPUT            Constant 00000000
C_PA3_PHB               Constant 00000008
C_PA3_PLB               Constant 00000008
C_PA3_WAKEUP            Constant 00000008
C_PA4_DATA              Constant 00000010
C_PA4_INPUT             Constant 00000010
C_PA4_OUTPUT            Constant 00000000
C_PA4_PHB               Constant 00000010
C_PA4_PLB_BIT           Constant 00000006
C_PA4_PLB_DIS           Constant 00000040
C_PA4_PLB_EN            Constant 00000000
C_PA4_WAKEUP            Constant 00000010
C_PA5_DATA              Constant 00000020
C_PA5_INPUT             Constant 00000020
C_PA5_OUTPUT            Constant 00000000
C_PA5_PHB_BIT           Constant 00000004
C_PA5_PHB_DIS           Constant 00000010
C_PA5_PHB_EN            Constant 00000000
C_PA5_PLB               Constant 00000020
C_PA5_WAKEUP            Constant 00000020
C_PA6_DATA              Constant 00000040
C_PA6_INPUT             Constant 00000040
C_PA6_OUTPUT            Constant 00000000
C_PA6_PHB               Constant 00000040
C_PA6_WAKEUP            Constant 00000040
C_PA7_DATA              Constant 00000080
C_PA7_INPUT             Constant 00000080
C_PA7_OUTPUT            Constant 00000000
C_PA7_PHB               Constant 00000080
C_PA7_WAKEUP            Constant 00000080
C_PB_DATA               Constant 0000003F
C_PB_INPUT              Constant 0000003F
C_PB_OD                 Constant 0000003F
C_PB_OUTPUT             Constant 00000000
C_PB_PHB                Constant 0000003F
C_PB_PLB                Constant 000000F0
C_PB_WAKEUP             Constant 0000003F
C_PB0_DATA              Constant 00000001
C_PB0_INPUT             Constant 00000001
C_PB0_OD                Constant 00000001
C_PB0_OUTPUT            Constant 00000000
C_PB0_PHB               Constant 00000001
C_PB0_PLB               Constant 00000010
C_PB0_WAKEUP            Constant 00000001
C_PB1_DATA              Constant 00000002
C_PB1_INPUT             Constant 00000002
C_PB1_OD                Constant 00000002
C_PB1_OUTPUT            Constant 00000000
C_PB1_PHB               Constant 00000002
C_PB1_PLB               Constant 00000020
C_PB1_WAKEUP            Constant 00000002
C_PB2_DATA              Constant 00000004
C_PB2_INPUT             Constant 00000004
C_PB2_OD                Constant 00000004
C_PB2_OUTPUT            Constant 00000000
C_PB2_PHB               Constant 00000004
C_PB2_PLB               Constant 00000040
C_PB2_WAKEUP            Constant 00000004
C_PB3_DATA              Constant 00000008
C_PB3_INPUT             Constant 00000008
C_PB3_OD                Constant 00000008
C_PB3_OUTPUT            Constant 00000000
C_PB3_PHB               Constant 00000008
C_PB3_PLB               Constant 00000080
C_PB3_WAKEUP            Constant 00000008
C_PB4_DATA              Constant 00000010
C_PB4_INPUT             Constant 00000010
C_PB4_OD                Constant 00000010
C_PB4_OUTPUT            Constant 00000000
C_PB4_PHB               Constant 00000010
C_PB4_WAKEUP            Constant 00000010
C_PB5_DATA              Constant 00000020
C_PB5_INPUT             Constant 00000020
C_PB5_OD                Constant 00000020
C_PB5_OUTPUT            Constant 00000000
C_PB5_PHB               Constant 00000020
C_PB5_WAKEUP            Constant 00000020
C_PCHIGH_DATA           Constant 00000007
C_PCLOW_DATA            Constant 000000FF
C_PS0_CNT               Constant 000000FF
C_PS0_DIV               Constant 00000007
C_PS0_DIV128            Constant 00000006
C_PS0_DIV16             Constant 00000003
C_PS0_DIV2              Constant 00000000
C_PS0_DIV256            Constant 00000007
C_PS0_DIV32             Constant 00000004
C_PS0_DIV4              Constant 00000001
C_PS0_DIV64             Constant 00000005
C_PS0_DIV8              Constant 00000002
C_PS0_TMR0              Constant 00000000
C_PS0_WDT               Constant 00000008
C_PS1_CNT               Constant 000000FF
C_PS1_DIS               Constant 00000008
C_PS1_DIV               Constant 00000007
C_PS1_DIV128            Constant 00000006
C_PS1_DIV16             Constant 00000003
C_PS1_DIV2              Constant 00000000
C_PS1_DIV256            Constant 00000007
C_PS1_DIV32             Constant 00000004
C_PS1_DIV4              Constant 00000001
C_PS1_DIV64             Constant 00000005
C_PS1_DIV8              Constant 00000002
C_PS1_EN                Constant 00000000
C_PS3_CNT               Constant 000000FF
C_PS3_DIS               Constant 00000008
C_PS3_DIV               Constant 00000007
C_PS3_DIV128            Constant 00000006
C_PS3_DIV16             Constant 00000003
C_PS3_DIV2              Constant 00000000
C_PS3_DIV256            Constant 00000007
C_PS3_DIV32             Constant 00000004
C_PS3_DIV4              Constant 00000001
C_PS3_DIV64             Constant 00000005
C_PS3_DIV8              Constant 00000002
C_PS3_EN                Constant 00000000
C_PSEL0_BIT             Constant 00000000
C_PSEL1_BIT             Constant 00000001
C_PSEL2_BIT             Constant 00000002
C_PSEL3_BIT             Constant 00000003
C_PWM1_ACTIVE           Constant 00000040
C_PWM1_ACTIVE_HI        Constant 00000000
C_PWM1_ACTIVE_LO        Constant 00000040
C_PWM1_DUTY             Constant 000000FF
C_PWM1_DUTY_B8          Constant 00000001
C_PWM1_DUTY_B9          Constant 00000002
C_PWM1_EN               Constant 00000080
C_PWM2_ACTIVE           Constant 00000040
C_PWM2_ACTIVE_HI        Constant 00000000
C_PWM2_ACTIVE_LO        Constant 00000040
C_PWM2_DUTY             Constant 000000FF
C_PWM2_DUTY_B8          Constant 00000004
C_PWM2_DUTY_B9          Constant 00000008
C_PWM2_EN               Constant 00000080
C_PWM3_ACTIVE           Constant 00000040
C_PWM3_ACTIVE_HI        Constant 00000000
C_PWM3_ACTIVE_LO        Constant 00000040
C_PWM3_DUTY             Constant 000000FF
C_PWM3_DUTY_B8          Constant 00000001
C_PWM3_DUTY_B9          Constant 00000002
C_PWM3_EN               Constant 00000080
C_PWM4_ACTIVE           Constant 00000040
C_PWM4_ACTIVE_HI        Constant 00000000
C_PWM4_ACTIVE_LO        Constant 00000040
C_PWM4_DUTY             Constant 000000FF
C_PWM4_DUTY_B8          Constant 00000004
C_PWM4_DUTY_B9          Constant 00000008
C_PWM4_EN               Constant 00000080
C_PWM5_ACTIVE           Constant 00000040
C_PWM5_ACTIVE_HI        Constant 00000000
C_PWM5_ACTIVE_LO        Constant 00000040
C_PWM5_DUTY             Constant 000000FF
C_PWM5_DUTY_B8          Constant 00000001
C_PWM5_DUTY_B9          Constant 00000002
C_PWM5_EN               Constant 00000080
C_RAM_BANK              Constant 000000C0
C_RAM_BANK0             Constant 00000000
C_RAM_BANK1             Constant 00000040
C_RAM_BANK2             Constant 00000080
C_RAM_BANK3             Constant 000000C0
C_RBIAS_HIGH_DIS        Constant 00000000
C_RBIAS_HIGH_EN         Constant 00000040
C_RBIAS_LOW_DIS         Constant 00000000
C_RBIAS_LOW_EN          Constant 00000020
C_RF_12DBM              Define   004H
C_RF_18DBM              Define   002H
C_RF_24DBM              Define   001H
C_RF_2DBM               Define   00CH
C_RF_6DBM               Define   008H
C_RF0DBM                Define   010H
C_RF10DBM               Define   03FH
C_RF2DBM                Define   014H
C_RF3DBM                Define   020H
C_RF4DBM                Define   024H
C_RF5DBM                Define   028H
C_RF6DBM                Define   02CH
C_RF7DBM                Define   030H
C_RF8DBM                Define   034H
C_RF9DBM                Define   038H
C_RFC_DIS               Constant 00000000
C_RFC_EN                Constant 00000080
C_RFC_EN_BIT            Constant 00000007
C_RFC_PA0               Constant 00000000
C_RFC_PA1               Constant 00000001
C_RFC_PA2               Constant 00000002
C_RFC_PA3               Constant 00000003
C_RFC_PA4               Constant 00000004
C_RFC_PA5               Constant 00000005
C_RFC_PA6               Constant 00000006
C_RFC_PA7               Constant 00000007
C_RFC_PB0               Constant 00000008
C_RFC_PB1               Constant 00000009
C_RFC_PB2               Constant 0000000A
C_RFC_PB3               Constant 0000000B
C_RFC_PB4               Constant 0000000C
C_RFC_PB5               Constant 0000000D
C_SAVETOACC             Constant 00000000
C_SAVETOREG             Constant 00000001
C_SFR_RAM_ADDR          Constant 0000007F
C_STANDBY_MODE          Constant 00000008
C_STATUS_C              Constant 00000001
C_STATUS_C_BIT          Constant 00000000
C_STATUS_HALFC          Constant 00000002
C_STATUS_HALFC_BIT      Constant 00000001
C_STATUS_SLP            Constant 00000008
C_STATUS_SLP_BIT        Constant 00000003
C_STATUS_WDT            Constant 00000010
C_STATUS_WDT_BIT        Constant 00000004
C_STATUS_Z              Constant 00000004
C_STATUS_Z_BIT          Constant 00000002
C_TBHIGH_ADDR           Constant 00000007
C_TBHIGH_DATA           Constant 0000003F
C_TMR0_CLK              Constant 00000020
C_TMR0_DATA             Constant 000000FF
C_TMR0_DIS              Constant 00000000
C_TMR0_EN               Constant 00000001
C_TMR0_EXTCLK_EDGE      Constant 00000010
C_TMR0_LOWCLK           Constant 00000080
C_TMR1_CLKSRC_EXT       Constant 00000020
C_TMR1_CLKSRC_INST      Constant 00000000
C_TMR1_DATA             Constant 000000FF
C_TMR1_DATA_B8          Constant 00000010
C_TMR1_DATA_B9          Constant 00000020
C_TMR1_DIS              Constant 00000000
C_TMR1_EN               Constant 00000001
C_TMR1_EXTCLK_EDGE      Constant 00000010
C_TMR1_EXTFALLING       Constant 00000010
C_TMR1_EXTRISING        Constant 00000000
C_TMR1_ONESHOT          Constant 00000004
C_TMR1_RELOAD           Constant 00000002
C_TMR3_CLKSRC_EXT       Constant 00000020
C_TMR3_CLKSRC_INST      Constant 00000000
C_TMR3_DATA             Constant 000000FF
C_TMR3_DATA_B8          Constant 00000010
C_TMR3_DATA_B9          Constant 00000020
C_TMR3_DIS              Constant 00000000
C_TMR3_EN               Constant 00000001
C_TMR3_EXTCLK_EDGE      Constant 00000010
C_TMR3_EXTFALLING       Constant 00000010
C_TMR3_EXTRISING        Constant 00000000
C_TMR3_ONESHOT          Constant 00000004
C_TMR3_RELOAD           Constant 00000002
C_WDT_EN                Constant 00000080
C_WDT_EN_BIT            Constant 00000007
CE_SEL                  Define   0X80
CF                      Define   STATUS,0
CFG_TOP                 Define   (0X00)
CHANNEL_TABLE_OFFEST    Constant 00000050
CLEAR_TX_FIFO           Label    0000028D
CMD_NOP                 Define   0XFF
CMPCR                   Constant 0000000E
COM_PIN                 Define   PORTA,3
CONFIG_OTHER_PIN        Label    0000026F
CRC_2B                  Define   0X04
D_BODCON                Constant 00000000
D_IOSTA                 Constant 00000014
D_IOSTB                 Constant 00000014
D_PDCON                 Constant 000000FF
D_PHA                   Constant 000000EB
D_PHB                   Constant 000000EB
D_PORTA                 Constant 00000000
D_PORTB                 Constant 00000000
D_POWER                 Constant 000000E8
D_WAKEUP_A              Constant 000000FF
D_WAKEUP_B              Constant 000000FF
DATA_CHANNEL_TABLE      Label    00000019
DC_B                    Constant 00000001
DELAY_100MS             Label    00000156
DELAY_100US             Label    0000016E
DELAY_10MS              Label    0000015C
DELAY_10US              Label    00000174
DELAY_1MS               Label    00000166
DELAY_1MS_TEST          Label    000003A1
DELAY_200MS             Label    00000154
DELAY_20MS              Label    0000015A
DELAY_250US             Label    0000016C
DELAY_2MS               Label    0000015E
DELAY_2MS_TEST          Label    00000399
DELAY_40US              Label    00000172
DELAY_500US             Label    0000016A
DELAY_50MS              Label    00000158
DELAY_50US              Label    00000170
DELAY_5US               Label    000000E5
DELAY_6MS_TEST          Label    00000397
DELAY_750US             Label    00000168
DELAY_8MS_FLAG          Define   FLAG_1,0
DELAY_MS_BASE           Label    00000160
DELAY_MS_BASE_TEST      Label    0000039B
DELAY_MS_LOOP           Label    00000161
DELAY_MS_LOOP_TEST      Label    0000039C
DELAY_US_BASE           Label    00000176
DELAY_US_BASE_TEST      Label    000003A3
DELAY_XX_US_LOOP        Label    00000177
DELAY_XX_US_LOOP_TEST   Label    000003A4
DETECT_SPI              Label    00000228
DYNPD                   Define   (0X1C)
EER_KEY                 Label    000000EE
EN_AA                   Define   (0X01)
EN_CRC                  Define   0X08
EN_RXADDR               Define   (0X02)
ENAA_P0                 Define   0X01
ENAA_P1                 Define   0X02
ENAA_P2                 Define   0X04
ENAA_P3                 Define   0X08
ENAA_P4                 Define   0X10
ENAA_P5                 Define   0X20
ENRX_P0                 Define   0X01
ENRX_P1                 Define   0X02
ENRX_P2                 Define   0X04
ENRX_P3                 Define   0X08
ENRX_P4                 Define   0X10
ENRX_P5                 Define   0X20
EXIT_INT                Label    00000122
F_RF_RX_OK              Define   R_RF_RX_RESULT,6
F_RF_TX_OK              Define   R_RF_TX_RESULT,5
FB_FUNC                 Label    000000CD
FB_PIN                  Define   PORTA,2
FEATURE                 Define   (0X1D)
FLAG_1                  Constant 00000046
FLAG_2                  Constant 00000047
FLAG_3                  Constant 00000048
FLUSH_RX                Define   0XE2
FLUSH_TX                Define   0XE1
FSR                     Constant 00000004
FT_TEST                 Label    0000035C
FT_TEST_ST              Label    00000385
GET_CHANNEL             Label    00000010
GET_ROLLING_CODE        Label    00000183
GPIO_FUNC               Label    00000133
HAVE_B_KEY              Label    000000D5
HAVE_F_KEY              Label    000000D7
HAVE_HIGH_FLAG          Define   FLAG_2,3
HAVE_L_KEY              Label    000000E3
HAVE_R_KEY              Label    000000E1
HC_B                    Constant 00000001
IF_2M_SEL               Define   0X04
INDF                    Constant 00000000
INIT_RF                 Label    000001E7
INIT_RF_00              Label    000001EC
INTE                    Constant 0000000E
INTE2                   Constant 0000001F
INTEDG                  Constant 00000018
INTF                    Constant 0000000F
IO_RF_CSN               Define   PORTA,1
IO_RF_MISO              Define   PORTB,4
IO_RF_MOSI              Define   PORTB,5
IO_RF_SCK               Define   PORTA,0
IOSTA                   Constant 00000005
IOSTB                   Constant 00000006
IRCR                    Constant 00000006
KEY_CMD1                Constant 00000055
KEY_CMD2                Constant 00000056
KEY_CNT                 Constant 00000054
KEY_FUNC                Label    000000BB
KEY_FUNC_EXIT           Label    000000F2
L_CHANNEL0              Label    00000030
L_CHANNEL1              Label    0000001D
LAST_TEMP_X             Constant 00000053
LED_CNT                 Constant 00000057
LOOPBACK_EN             Define   0X80
LR_FUNC                 Label    000000D9
LR_PIN                  Define   PORTA,4
LVD_FLAG                Define   FLAG_2,6
MAIN                    Label    0000004C
MASK_MAX_RT             Define   0X10
MASK_RX_DR              Define   0X40
MASK_TX_DS              Define   0X20
MAX_RT                  Define   BIT_4
OBSERVE_TX              Define   (0X08)
OSCCR                   Constant 0000000F
P2CR1                   Constant 0000000A
P4CR1                   Constant 00000016
P5CR1                   Constant 0000001B
PAIR_CHANNLE            Define   65
PAIR_CHANNLE_RX         Define   64
PAIR_FLAG               Define   FLAG_2,0
PCHBUF                  Constant 0000000A
PCL                     Constant 00000002
PCON                    Constant 00000008
PCON1                   Constant 0000000F
PEN_PIN                 Define   PORTB,2
PGA_SETTING             Define   (0X0F)
PORTA                   Constant 00000005
PORTB                   Constant 00000006
PS0CV                   Constant 0000000A
PS1CV                   Constant 00000004
PS3CV                   Constant 00000014
PWM1DUTY                Constant 00000003
PWM2DUTY                Constant 0000000C
PWM3DUTY                Constant 00000013
PWM4DUTY                Constant 00000018
PWM5DUTY                Constant 0000001D
PWM5RH                  Constant 0000001F
PWR_ON                  Define   0X02
R                       Constant 00000001
R_CHN_INDEX             Constant 00000033
R_DDL0                  Constant 0000003B
R_DDL1                  Constant 0000003C
R_REG                   Define   0X00
R_REGISTER              Define   000H
R_RF_ADDR0              Constant 00000034
R_RF_ADDR1              Constant 00000035
R_RF_ADDR2              Constant 00000036
R_RF_DAT_BUF            Constant 00000020
R_RF_DATA_LEN           Constant 00000031
R_RF_REC_0              Constant 00000020
R_RF_REC_1              Constant 00000021
R_RF_REC_10             Constant 0000002A
R_RF_REC_11             Constant 0000002B
R_RF_REC_12             Constant 0000002C
R_RF_REC_13             Constant 0000002D
R_RF_REC_14             Constant 0000002E
R_RF_REC_15             Constant 0000002F
R_RF_REC_2              Constant 00000022
R_RF_REC_3              Constant 00000023
R_RF_REC_4              Constant 00000024
R_RF_REC_5              Constant 00000025
R_RF_REC_6              Constant 00000026
R_RF_REC_7              Constant 00000027
R_RF_REC_8              Constant 00000028
R_RF_REC_9              Constant 00000029
R_RF_RX_RESULT          Constant 00000032
R_RF_SEND_0             Constant 00000020
R_RF_SEND_1             Constant 00000021
R_RF_SEND_10            Constant 0000002A
R_RF_SEND_11            Constant 0000002B
R_RF_SEND_12            Constant 0000002C
R_RF_SEND_13            Constant 0000002D
R_RF_SEND_14            Constant 0000002E
R_RF_SEND_15            Constant 0000002F
R_RF_SEND_2             Constant 00000022
R_RF_SEND_3             Constant 00000023
R_RF_SEND_4             Constant 00000024
R_RF_SEND_5             Constant 00000025
R_RF_SEND_6             Constant 00000026
R_RF_SEND_7             Constant 00000027
R_RF_SEND_8             Constant 00000028
R_RF_SEND_9             Constant 00000029
R_RF_TX_RESULT          Constant 00000032
R_RX_ADDR0              Constant 00000040
R_RX_ADDR1              Constant 00000041
R_RX_ADDR2              Constant 00000042
R_RX_PL_WID             Define   0X60
R_RX_PLOAD              Define   0X61
R_S_TMP                 Constant 0000007E
R_SPI_ADR               Constant 00000030
R_SPI_DATA              Constant 00000037
R_SPI_TEMP0             Constant 0000002D
R_SPI_TEMP1             Constant 0000002E
R_SPI_TEMP2             Constant 0000002F
R_TEMP00                Constant 00000038
R_TEMP01                Constant 00000039
R_TEMP02                Constant 0000003A
R_TR_START              Constant 0000003D
R_TX_ADDR0              Constant 00000043
R_TX_ADDR1              Constant 00000044
R_TX_ADDR2              Constant 00000045
R_W_TMP                 Constant 0000007F
RAM_CLR_LOOP            Label    0000014C
RAM_CLR_LOOP_EXIT       Label    00000153
RAM_INIT                Label    0000014A
RAMP_CFG                Define   (0X1E)
REC_RF_DATA             Label    000002A5
REC_RF_DATA_00          Label    000002C7
REC_RF_QUIT0            Label    000002CC
REUSE_TX_PL             Define   0XE3
RF_CARRIER_TEST         Label    00000270
RF_CE_HIGH              Label    000001A7
RF_CE_LOW               Label    000001B3
RF_CH                   Define   (0X05)
RF_CHANNEL              Constant 00000051
RF_CLEAR_STATUS         Label    000001BF
RF_FIFO_R               Label    0000031D
RF_FIFO_R_0             Label    0000031E
RF_FIFO_R_LOOP          Label    00000323
RF_FIFO_W               Label    0000032E
RF_FIFO_W_0             Label    0000032F
RF_FIFO_W_LOOP          Label    00000334
RF_MODULE_SLEEP         Label    00000263
RF_MODULE_WAKE          Label    00000237
RF_PACKET_SIZE          Define   9
RF_REC_CAL              Label    000002E3
RF_REC_CAL_COMPLETE     Label    00000305
RF_REC_CAL_LOOP         Label    000002E5
RF_REC_FAIL             Label    000002CE
RF_SET_0DB_PWR          Label    00000243
RF_SET_CHANNEL          Label    000001CF
RF_SET_DEFAULT_ADR      Label    00000254
RF_SET_DEFAULT_ADR_NEXT Label    00000259
RF_SET_LOW_PWR          Label    00000245
RF_SET_NORMAL_PWR       Label    00000243
RF_SET_RX_MODE          Label    000002D9
RF_SET_TX_MODE          Label    000002D1
RF_SPI_ADD_SET          Label    0000025F
RF_SPI_FIFO_SET         Label    00000260
RF_STATE_BIT            Define   (BIT_4|BIT_5|BIT_6)
RF_STATUS               Define   (0X07)
RF_TEMP_R               Label    0000031B
RF_TEMP_W               Label    0000032C
RFC                     Constant 0000001B
ROLLINGCODE_0           Constant 00000049
ROLLINGCODE_1           Constant 0000004A
ROLLINGCODE_2           Constant 0000004B
ROLLINGCODE_3           Constant 0000004C
RSSI                    Define   (0X09)
RSSIREC                 Define   (0X18)
RX_ADDR_3BYTE           Define   (0X1)
RX_ADDR_4BYTE           Define   (0X2)
RX_ADDR_5BYTE           Define   (0X3)
RX_ADDR_P0              Define   (0X0A)
RX_ADDR_P1              Define   (0X0B)
RX_ADDR_P2              Define   (0X2)
RX_ADDR_P2TOP5          Define   (0X0C)
RX_ADDR_P3              Define   (0X3)
RX_ADDR_P4              Define   (0X4)
RX_ADDR_P5              Define   (0X5)
RX_DR                   Define   BIT_6
RX_EMPTY                Define   (0X1)
RX_FULL                 Define   (0X2)
RX_FUNC                 Label    00000098
RX_ON                   Define   0X01
RX_OUTTIMES             Constant 0000005A
RX_PW_PX                Define   (0X11)
RX_SUCCESSFUL_FLAG      Define   FLAG_2,2
RXCODE_0                Constant 0000004D
RXCODE_1                Constant 0000004E
RXCODE_2                Constant 0000004F
RXPROC_CFG              Define   (0X1A)
SEND_RF_DATA            Label    0000028C
SEND_RF_DATA_COMPLETE   Label    000002A3
SEND_RF_DATA_COMPLETE_DETECT Label    00000297
SEND_RF_DATA_QUIT       Label    000002A4
SET_RF_POWER            Label    00000246
SETUP_AW                Define   (0X03)
SETUP_RETR              Define   (0X04)
SETUP_RF                Define   (0X06)
SIG_CHECK_EXIT          Label    00000376
SIG_CHECK_OK            Label    0000037B
SLEEP_CNT               Constant 0000005B
SLEEP_CNT1              Constant 00000058
SLEEP_CNT2              Constant 00000059
SLEEP_FLAG              Define   FLAG_2,7
SLEEP_FUNC              Label    000000F3
SLEEP_FUNC_EXIT         Label    00000103
SPI_READ                Label    0000033C
SPI_RW                  Label    00000347
SPI_RW_LOOP             Label    0000034B
SPI_WRITE               Label    0000033C
START_FLAG              Define   FLAG_2,5
STATUS                  Constant 00000003
STATUS_FIFO             Define   (0X17)
SYS_SLEEP_FUNC          Label    00000104
T1CR1                   Constant 00000001
T1CR2                   Constant 00000002
T3CR1                   Constant 00000011
T3CR2                   Constant 00000012
TBHD                    Constant 00000008
TBHP                    Constant 00000007
TEMP_X                  Constant 00000052
TEST_RF_CSN             Define   PORTA,5
TEST_RF_MISO            Define   PORTA,2
TEST_RF_MOSI            Define   PORTA,3
TEST_RF_SCK             Define   PORTA,4
TIME_INIT               Label    00000127
TM34RH                  Constant 0000001C
TMR0                    Constant 00000001
TMR1                    Constant 00000000
TMR3                    Constant 00000010
TMRH                    Constant 00000019
TO_A                    Constant 00000000
TO_R                    Constant 00000001
TX_ADDR                 Define   (0X10)
TX_ADDR_3BYTE           Define   (0X1<<2)
TX_ADDR_4BYTE           Define   (0X2<<2)
TX_ADDR_5BYTE           Define   (0X3<<2)
TX_DS                   Define   BIT_5
TX_EMPTY                Define   (0X1<<4)
TX_FULL                 Define   (0X1<<5)
TX_MORMAL               Label    00000057
TX_REUSE                Define   (0X1<<6)
TXPROC_CFG              Define   (0X19)
TXRX_FLAG               Define   FLAG_2,1
TXRX_FUNC               Label    00000055
TXRX_FUNC_EXIT          Label    000000BA
TXRX_PAIR               Label    00000070
TXRX_PAIR1              Label    0000007E
V_INT                   Label    0000011A
V_MAIN                  Label    00000043
W_ACK_PLOAD             Define   0XA8
W_REG                   Define   0X20
W_REGISTER              Define   020H
W_TX_PLOAD              Define   0XA0
W_TX_PLOAD_NOACK        Define   0XB0
WAIT_SIG_H              Label    00000362
WAIT_SIG_H_WAIT         Label    00000368
WAIT_SIG_L              Label    0000036F
WHITEN_OPT              Define   0X10
XC_MAX_RT               Define   (0X1<<4)
XC_RX_DR                Define   (0X1<<6)
XC_TX_DS                Define   (0X1<<5)
Z_B                     Constant 00000002
ZF                      Define   STATUS,2


SOURCE FILE TABLE
000 D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\main.asm
001 D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\NY8A054E.H
002 D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\WL2400.asm
003 D:\储存文件\2.4g程序\JX3852\黄文旭\旭升四通车XS142T - XS116R\XS142T-TX\FT_TEST.asm

PROCESSOR    = NY8A054E (8 bits) 
PROGRAM ROM  = 0x00000000 - 0x000007FF
DATA ROM     = 0x00000000 - 0x000007FF
SRAM / SFR   = 0x00000000 - 0x00000000
